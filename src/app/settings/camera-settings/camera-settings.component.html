<div class="dashboard-content" id="page">
  <div class="page-header mb-3">
    <h3>Camera Settings</h3>
  </div>
  <!-- <div class="row">
    <div class="col-4">
      <div class="card analytics">

      </div>
    </div>

    <div class="col-4">
      <div class="card analytics">

      </div>
    </div>
    <div class="col-4">
      <div class="card analytics">

      </div>
    </div>
  </div> -->

  <div class="row mt-5 mb-3">
    <div class="float-end">
      <button *ngIf="!isActive" class="float-end ms-2 btn primary" (click)="StartAppModal(startAppModal)">
        <!-- <fa-icon icon="plus" class="me-2"></fa-icon> -->
        Start DocketRun Main App
      </button>
      <button *ngIf="!isActive2" class="float-end ms-2 btn primary" (click)="StartAppModal(startHydroAppModal)">
        <!-- <fa-icon icon="plus" class="me-2"></fa-icon> -->
        Start  Smart Record App
      </button>
      <button *ngIf="isActive" class="float-end ms-2 btn danger" (click)="StopAppModal(stopAppModal)">
        <!-- <fa-icon icon="plus" class="me-2"></fa-icon> -->
        Stop  DocketRun Main App
      </button>
      <button *ngIf="isActive2" class="float-end ms-2 btn danger" (click)="StopAppModal(stopHydroAppModal)" >
        <!-- <fa-icon icon="plus" class="me-2"></fa-icon> -->
        Stop  Smart Record App
      </button>
      <button class="float-end btn default" (click)=openCameraAddModal(cameraAddModal)>
        <fa-icon icon="plus" class="me-2"></fa-icon>Add
      </button>

    </div>
  </div>

  <div class="row mb-3">
    <h5 class="sub-header mb-2 ms-3 col-12">Upload Excel</h5>
    <div style="border-radius:4px" class="col-12 p-3">
      <div class="float-end mb-2">
        <button class="btn default-outline float-end" (click)="GetCameraSampleSheet()"><fa-icon icon="file-arrow-down"></fa-icon> Download Sample
          Sheet</button>
      </div>
      <div class="container p-2">

        <div class="">
          <div>
            <p class="mb-2 text-muted">Select excel sheet of camera's IP and RTSP to check camera's status</p>

            <div id="ExcelContainer" class="mb-2">
              <input class="form-control form-control-lg" id="formFileLg"
                accept=".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel"
                (change)="OnFileSelect($event)" type="file">
            </div>
            <div class="d-flex justify-centent-center mt-2" style="width:100%">
              <button class="btn default" style="width:inherit;" (click)="DownloadCameraExcel()"
                *ngIf="isDownload"><fa-icon class="me-2" *ngIf="!isDownloading" icon="download"></fa-icon>
                <span class="spinner-border spinner-border-sm me-1" role="status" aria-hidden="true"
                  *ngIf="isDownloading"></span>
                Download</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="col-12">

    <div class="card" id="data-card">
      <div class="card-header">
        <h5 class="float-start"><b>Camera Details</b></h5>
        <div class="col-xl-2 col-lg-2 col-sm-6 col-xs-12 col-md-6 float-end">
          <ng-multiselect-dropdown [placeholder]="'Hide Column'" [settings]="dropdownSettings" [data]="headers"
            [(ngModel)]="selectedColumn" (onSelect)="onHideColumn($event)" (onDeSelect)="onShowColumn($event)">
          </ng-multiselect-dropdown>
        </div>
      </div>
      <div class="table-responsive"  id="dataTable">
        <table class="table">
          <thead>
            <tr>
              <th scope="col" sortable *ngIf="showSI">SI No</th>
              <th scope="col" sortable *ngIf="showCamName">Camera Name</th>
              <th scope="col" sortable *ngIf="showCamImage">Camera Image</th>
              <th scope="col" sortable *ngIf="showCamIP">Camera IP</th>

              <th scope="col" sortable *ngIf="showPlant">Plant</th>
              <th scope="col" sortable *ngIf="showArea">Area</th>
              <th scope="col" sortable *ngIf="showAlarmType">Alarm</th>
              <th scope="col" sortable *ngIf="showAlarmIp">Alarm IP Address</th>

              <th scope="col" sortable *ngIf="showCamBrand">Camera Brand</th>
              <th scope="col">Enable <br /> Analytics</th>
              <th scope="col" sortable *ngIf="showAiSolutions">Settings</th>

              <th scope="col"></th>
            </tr>
          </thead>
          <tbody>
            <tr class="mx-auto my-auto" style="text-align:center;"
              *ngFor="let camera of RACameraList|async;let i=index">
              <td style="text-align:center;" *ngIf="showSI">{{camera.SNo}}</td>
              <td style="text-align:center;" *ngIf="showCamName">{{camera.cameraname}}</td>
              <td style="text-align:center;" *ngIf="showCamImage"><img [src]="IP+'/get_roi_image/'+camera.imagename"
                  alt="Not Found" class="camera-image" (click)=open(camera.SNo)></td>
              <td style="text-align:center;" *ngIf="showCamIP">{{camera.camera_ip}}</td>

              <td style="text-align:center;" *ngIf="showPlant">{{camera.plant}}</td>
              <td style="text-align:center;" *ngIf="showArea">{{camera.area}}</td>
              <td style="text-align:center;" *ngIf="showAlarmType">{{camera.alarm_type?camera.alarm_type:'none'}}</td>
              <td style="text-align:center;" *ngIf="showAlarmIp">
                {{camera.alarm_ip_address?camera.alarm_ip_address:'none'}}</td>


              <td style="text-align:center;" *ngIf="showCamBrand">{{camera.camera_brand}}</td>
              <td><input type="checkbox" hidden="hidden" [checked]="camera.analytics_status=='true'?true:false"
                  (change)="EnableAnalytics(camera,$event)" [id]="'camera'+camera.SNo">
                <label class="switch" [for]="'camera'+camera.SNo"></label>
              </td>
              <!-- <td *ngIf="showAiSolutions"><input type="checkbox" class="form-check-input" name="RackIn" id="">&nbsp;<label class="form-check-label">PPE</label>
              </td> -->
              <td *ngIf="showAiSolutions">
                <button class="btn" (click)="EditCameraModal(cameraEditModal,camera)">
                  <fa-icon class="text-black" icon="pen-to-square"></fa-icon>
                </button>

                <button class="btn" (click)="goToRoiEdit(camera._id.$oid,camera.imagename)">

                  <fa-icon icon="cog" class="text-dark"></fa-icon>
                </button>
                <!-- &nbsp;&nbsp; -->
                <button class="btn" (click)="isDelete(deleteModal,camera.SNo)">
                  <fa-icon class="text-danger" icon="trash"></fa-icon>
                </button>
              </td>

            </tr>
          </tbody>
        </table>
        <div class="d-flex mx-auto justify-content-center p-1">
          <ngb-pagination [collectionSize]="total|async" [(page)]="page" [pageSize]="pageSize"
            style="width: 95vw;overflow-x: auto;" (pageChange)="slice()">
          </ngb-pagination>

        </div>
      </div>
    </div>
  </div>
</div>
<!--  -->
<ng-template let-modal #cameraAddModal>
  <div class="border" style="background-color: white;">
    <div class="" id="formContent">
      <div style="font-family: 'Times New Roman',
    Times, serif;">
        <h3>
          <b>Add Camera</b>
        </h3>
      </div>
      <button type="button" class="btn btn-default close" aria-label="Close" (click)="modal.close('Cross click')">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <form action="" class="" [formGroup]="AddCameraForm" id="addCameraForm">
        <div class="wrapper-two" id="input">
          <div class="form-floating">
            <input type="text"
              [ngClass]="AddCameraForm.get('cameraname').invalid && AddCameraForm.get('cameraname').touched?'is-invalid':''"
              formControlName="cameraname" placeholder="Camera name" class="form-control" (keydown.enter)="NextControl(singleSelect)"  id="cameraname">
            <label for="cameraname">Camera Name</label>
          </div>
          <div class="form-floating" id="cameraBrand">
            <!-- <input type="text"
            [ngClass]="AddCameraForm.get('camera_brand').invalid && AddCameraForm.get('camera_brand').touched?'is-invalid':''"
            formControlName="camera_brand" placeholder="Camera brand" class="form-control" id="camerabrand">
          <label for="camerabrand">Camera Brand</label> -->
            <ng-multiselect-dropdown #singleSelect [placeholder]="'Camera Brand'" #camera_brand (keydown.enter)="NextControl(plant)" [settings]="dropdownSettings2|async"
              [data]="cameraBrandList|async" formControlName="camera_brand">
            </ng-multiselect-dropdown>
            <!-- <label>Camera brand</label> -->
          </div>

          <div class="form-floating">
            <input type="text" formControlName="plant" placeholder="Plant" class="form-control"
              [ngClass]="AddCameraForm.get('plant').invalid && AddCameraForm.get('plant').touched?'is-invalid':''"
              id="plant" #plant>
            <label for="plant">Plant</label>
          </div>
          <div class="form-floating">
            <input type="text" formControlName="area" placeholder="Area" class="form-control"
              [ngClass]="AddCameraForm.get('area').invalid && AddCameraForm.get('area').touched?'is-invalid':''"
              id="Area">
            <label for="Area">Area</label>
          </div>
          <div class="form-floating">
            <input type="text" formControlName="department" placeholder="Department" class="form-control"
              [ngClass]="AddCameraForm.get('department').invalid && AddCameraForm.get('department').touched?'is-invalid':''"
              id="department">
            <label for="department">Department</label>
          </div>
        </div>

        <div class="camera-display" id="input">
          <div class="form-floating">
            <input type="text" formControlName="username" placeholder="User name" class="form-control"
              [ngClass]="AddCameraForm.get('username').invalid && AddCameraForm.get('username').touched?'is-invalid':''"
              id="username">
            <label for="username">User name</label>
          </div>
          <div class="form-floating">
          </div>
          <div></div>


          <div class="form-floating">
            <input type="text" type="password" formControlName="password" placeholder="Password" class="form-control"
              [ngClass]="AddCameraForm.get('password').invalid && AddCameraForm.get('password').touched?'is-invalid':''"
              id="password">
            <label for="password">Password</label>
          </div>
          <div class="icon-circle-medium  icon-circle-lg bg-info-light">
            <div class="or">
              <div class="ms-2 me-2 mt-2 mb-2">
                or
              </div>
            </div>
          </div>
          <div class="">
            <div class="form-floating">
              <input type="text" formControlName="rtsp_url" placeholder="User name" class="form-control"
                [ngClass]="AddCameraForm.get('rtsp_url').invalid && AddCameraForm.get('rtsp_url').touched?'is-invalid':''"
                id="username">
              <label for="username">Rtsp Url</label>
            </div>
          </div>
          <div class="form-floating">
            <input type="text" formControlName="cameraip" placeholder="Camera ip" class="form-control"
              [ngClass]="AddCameraForm.get('cameraip').invalid && AddCameraForm.get('cameraip').touched?'is-invalid':''"
              id="cameraip">
            <label for="cameraip">Camera IP</label>
          </div>

          <div></div>
          <div></div>
          <div class="form-floating">
            <input type="text" formControlName="port" placeholder="Port" class="form-control"
              [ngClass]="AddCameraForm.get('port').invalid && AddCameraForm.get('port').touched?'is-invalid':''"
              id="port">
            <label for="port">Port</label>
          </div>
        </div>

        <div class="d-flex justify-centent-center align-items-center mt-3">
          <h5 class="sub-header me-2 ms-2" style="font-size:1.3rem"> <span class="ms-2">Alert settings</span></h5>
        </div>
        <div class="wrapper-two" id="input">


          <div class="form-floating form-control p-3">
            <div class="form-check form-check-inline" id="custome">
              <input type="radio" formControlName="isHooter" value="hooter" (change)="hooterOrRelayConfig($event)"
                defaultValue="hooter" id="hooter" class="form-check-input">
              <label for="hooter" class="form-check-label text-muted">Hooter</label>
            </div>
            <div class="form-check form-check-inline" id="custome">
              <input type="radio" formControlName="isHooter" value="relay" (change)="hooterOrRelayConfig($event)"
                defaultValue="relay" id="relay" class="form-check-input">
              <label for="relay" class="form-check-label text-muted">Relay</label>
            </div>
            <div class="form-check form-check-inline" id="custome">
              <input type="radio" formControlName="isHooter" value="sensegiz"
                (change)="hooterOrRelayConfig($event,sensgizDetails)" defaultValue="sensgiz" id="sensegiz"
                class="form-check-input">
              <label for="sensegiz" class="form-check-label text-muted">Sensegiz</label>
            </div>
            <!-- <div class="form-check form-check-inline" id="custome">
              <input type="radio" formControlName="isHooter" value="voiceAlert" (change)="hooterOrRelayConfig($event)"
                defaultValue="voiceAlert" id="voiceAlert" class="form-check-input">
              <label for="voiceAlert" class="form-check-label text-muted">Voice Alert</label>
            </div> -->
          </div>
          <div class="form-floating" *ngIf="isHooter">
            <input type="text" formControlName="hooterIp" placeholder="User name" class="form-control"
              [ngClass]="AddCameraForm.get('hooterIp').invalid && AddCameraForm.get('hooterIp').touched?'is-invalid':''"
              id="hooterIp">
            <label for="hooterIp">Hooter IP</label>
          </div>
          <div class="form-floating" *ngIf="isRelay">

            <input type="text" formControlName="relayIp" placeholder="User name" class="form-control"
              [ngClass]="AddCameraForm.get('relayIp').invalid && AddCameraForm.get('relayIp').touched?'is-invalid':''"
              id="relayIp">
            <label for="relayIp">Relay IP</label>
          </div>
          <div class="form-floating" *ngIf="isSensgiz">

            <div class="form-control">
              <div class="">

                <span>Sensegiz Details</span>
                <span class="float-end">
                  <fa-icon icon="pen-to-square" style="cursor: pointer;"
                    (click)="editSensgiz(sensgizDetails)"></fa-icon>
                </span>
              </div>
            </div>
          </div>
          <!-- altered -->
          <!-- <div class="form-floating" id="cameraBrand" *ngIf="isVoiceAlert">
            <ng-multiselect-dropdown #singleSelect [placeholder]="'Language'" [settings]="dropdownSettings2|async"
            [data]="voiceLanguages|async" formControlName="voiceLang" >
          </ng-multiselect-dropdown>

          </div> -->


        </div>


        <!-- adding report settings  -->
        <!-- <div id="input" class="d-flex justify-centent-center align-items-center mt-3">
          <h6 class="sub-header me-2 ms-2" style="font-size:1.3rem"> <span class="ms-2">Report settings</span></h6>

        </div>
        <div class="" id="input">
          <div class="form-control">
            <div class="form-check form-check-inline" id="custome">
              <input type="checkbox" formControlName="isHooter" value="relay" (change)="hooterOrRelayConfig($event)"
                defaultValue="relay" id="relay" class="form-check-input">
              <label for="relay" class="form-check-label text-muted">Email Report</label>
            </div>
          </div>
        </div> -->



        <!-- </div> -->
        <div class="alert alert-success mb-2 mt-2" *ngIf="isSuccess" role="alert">
          {{responseMessage}}
        </div>
        <div class="alert alert-danger mb-2 mt-3" *ngIf="isFail" role="alert">
          {{responseMessage}}
        </div>
        <button type="submit" class="mt-3" (click)="OnAddCameraDetails()" [disabled]="(!isFormValid)||isLoading"><span
            *ngIf="!isLoading">Submit</span>
          <span class="spinner-border spinner-border-sm me-1" role="status" aria-hidden="true" *ngIf="isLoading"></span>

        </button>

      </form>
    </div>
  </div>

</ng-template>



<!-- template to edit the camera details
 -->
<ng-template let-modal #cameraEditModal>
  <div class="border">
    <div class="" id="formContent">
      <div style="font-family: 'Times New Roman',
    Times, serif;">
        <h3>
          <b>Edit Camera</b>
        </h3>
      </div>
      <button type="button" class="btn btn-default close" aria-label="Close" (click)="modal.close('Cross click')">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <form action="" class="" [formGroup]="EditCameraForm" id="addCameraForm">
        <div class="wrapper-two" id="input">
          <div class="form-floating">
            <input type="text"
              [ngClass]="EditCameraForm.get('cameraname').invalid && EditCameraForm.get('cameraname').touched?'is-invalid':''"
              formControlName="cameraname" placeholder="Camera name" class="form-control" id="cameraname">
            <label for="cameraname">Camera Name</label>
          </div>
          <!-- <div class="form-floating" id="cameraBrand">
         
            <ng-multiselect-dropdown #singleSelect [placeholder]="'Camera Brand'" [settings]="dropdownSettings2|async"
              [data]="cameraBrandList|async" formControlName="camera_brand">
            </ng-multiselect-dropdown>
        
          </div> -->

          <div class="form-floating">
            <input type="text" formControlName="plant" placeholder="Plant" class="form-control"
              [ngClass]="EditCameraForm.get('plant').invalid && EditCameraForm.get('plant').touched?'is-invalid':''"
              id="plant">
            <label for="plant">Plant</label>
          </div>
          <div class="form-floating">
            <input type="text" formControlName="area" placeholder="Area" class="form-control"
              [ngClass]="EditCameraForm.get('area').invalid && EditCameraForm.get('area').touched?'is-invalid':''"
              id="Area">
            <label for="Area">Area</label>
          </div>


          <div class="form-floating">
            <input type="text" formControlName="department" placeholder="Department" class="form-control"
              [ngClass]="EditCameraForm.get('department').invalid && EditCameraForm.get('department').touched?'is-invalid':''"
              id="department">
            <label for="department">Department</label>
          </div>

          <!-- <div class="form-floating">
            <input type="text" formControlName="username" placeholder="User name" class="form-control"
              [ngClass]="EditCameraForm.get('username').invalid && EditCameraForm.get('username').touched?'is-invalid':''"
              id="username">
            <label for="username">User name</label>
          </div>
          <div class="form-floating">
          </div> -->




          <div class="form-floating">
            <input type="text" formControlName="cameraip" placeholder="Camera ip" class="form-control"
              [ngClass]="EditCameraForm.get('cameraip').invalid && EditCameraForm.get('cameraip').touched?'is-invalid':''"
              id="cameraip">
            <label for="cameraip">Camera IP</label>
          </div>

          <!--          
          <div class="form-floating">
            <input type="text" formControlName="port" placeholder="Port" class="form-control"
              [ngClass]="EditCameraForm.get('port').invalid && EditCameraForm.get('port').touched?'is-invalid':''"
              id="port">
            <label for="port">Port</label>
          </div> -->
        </div>

        <div class="d-flex justify-centent-center align-items-center mt-3">
          <h5 class="sub-header me-2 ms-2" style="font-size:1.3rem"> <span class="ms-2">Alert settings</span></h5>
        </div>
        <div class="wrapper-two" id="input">


          <div class="form-floating form-control p-3">
            <div class="form-check form-check-inline" id="custome">
              <input type="radio" formControlName="isHooter" value="hooter" (change)="hooterOrRelayConfig($event)"
                defaultValue="hooter" id="hooter" class="form-check-input">
              <label for="hooter" class="form-check-label text-muted">Hooter</label>
            </div>
            <div class="form-check form-check-inline" id="custome">
              <input type="radio" formControlName="isHooter" value="relay" (change)="hooterOrRelayConfig($event)"
                defaultValue="relay" id="relay" class="form-check-input">
              <label for="relay" class="form-check-label text-muted">Relay</label>
            </div>
            <div class="form-check form-check-inline" id="custome">
              <input type="radio" formControlName="isHooter" value="sensegiz"
                (change)="hooterOrRelayConfig($event,sensgizDetails)" defaultValue="sensegiz" id="sensegiz"
                class="form-check-input">
              <label for="sensegiz" class="form-check-label text-muted">Sensegiz</label>
            </div>
            <!-- <div class="form-check form-check-inline" id="custome">
              <input type="radio" formControlName="isHooter" value="voiceAlert" (change)="hooterOrRelayConfig($event)"
                defaultValue="voiceAlert" id="voiceAlert" class="form-check-input">
              <label for="voiceAlert" class="form-check-label text-muted">Voice Alert</label>
            </div> -->
          </div>
          <div class="form-floating" *ngIf="isHooter">
            <input type="text" formControlName="hooterIp" placeholder="User name" class="form-control"
              [ngClass]="AddCameraForm.get('hooterIp').invalid && AddCameraForm.get('hooterIp').touched?'is-invalid':''"
              id="hooterIp">
            <label for="hooterIp">Hooter IP</label>
          </div>
          <div class="form-floating" *ngIf="isRelay">

            <input type="text" formControlName="relayIp" placeholder="User name" class="form-control"
              [ngClass]="AddCameraForm.get('relayIp').invalid && AddCameraForm.get('relayIp').touched?'is-invalid':''"
              id="relayIp">
            <label for="relayIp">Relay IP</label>
          </div>
          <div class="form-floating" *ngIf="isSensgiz">

            <div class="form-control">
              <div>

                <span>Sensegiz Details</span>
                <span class="float-end">
                  <fa-icon icon="pen-to-square" style="cursor: pointer;"
                    (click)="editSensgiz(sensgizDetails)"></fa-icon>
                </span>
              </div>
            </div>
          </div>
          <!-- altered -->
          <!-- <div class="form-floating" id="cameraBrand" *ngIf="isVoiceAlert">
            <ng-multiselect-dropdown #singleSelect [placeholder]="'Language'" [settings]="dropdownSettings2|async"
            [data]="voiceLanguages|async" formControlName="voiceLang" >
          </ng-multiselect-dropdown>

          </div> -->


        </div>


        <!-- adding report settings  -->
        <!-- <div id="input" class="d-flex justify-centent-center align-items-center mt-3">
          <h6 class="sub-header me-2 ms-2" style="font-size:1.3rem"> <span class="ms-2">Report settings</span></h6>

        </div>
        <div class="" id="input">
          <div class="form-control">
            <div class="form-check form-check-inline" id="custome">
              <input type="checkbox" formControlName="isHooter" value="relay" (change)="hooterOrRelayConfig($event)"
                defaultValue="relay" id="relay" class="form-check-input">
              <label for="relay" class="form-check-label text-muted">Email Report</label>
            </div>
          </div>
        </div> -->



        <!-- </div> -->
        <div class="alert alert-success mb-2 mt-2" *ngIf="isSuccess" role="alert">
          {{responseMessage}}
        </div>
        <div class="alert alert-danger mb-2 mt-3" *ngIf="isFail" role="alert">
          {{responseMessage}}
        </div>
        <button type="submit" class="mt-3" (click)="OnEditCameraDetails()" [disabled]="isLoading"><span
            *ngIf="!isLoading">Submit</span>
          <span class="spinner-border spinner-border-sm me-1" role="status" aria-hidden="true" *ngIf="isLoading"></span>

        </button>

      </form>
    </div>
  </div>

</ng-template>

<ng-template let-modal #stopAppModal>
  <div class="modal-body">
    <div class="modal-confirm">
      <div class="modal-content">
        <div class="modal-header flex-column">
          <div class="icon-box">
            <i class="material-icons">&#xE5CD;</i>
          </div>
          <h4 class="modal-title w-100">Are you sure?</h4>
          <!-- <button type="button" class="btn"  aria-hidden="true">&times;</button> -->
        </div>
        <div class="modal-body">
          <p>Do you really want to stop this Application</p>
        </div>
        <div class="modal-footer justify-content-center">
          <button type="button" class="btn btn-secondary" (click)="modal.close('Cross click')"
            data-dismiss="modal">Cancel</button>
          <button type="button" class="btn danger" (click)="StopApplication()">Stop</button>
        </div>
      </div>
    </div>
  </div>
</ng-template>

<ng-template let-modal #stopHydroAppModal>
  <div class="modal-body">
    <div class="modal-confirm">
      <div class="modal-content">
        <div class="modal-header flex-column">
          <div class="icon-box">
            <i class="material-icons">&#xE5CD;</i>
          </div>
          <h4 class="modal-title w-100">Are you sure?</h4>
          <!-- <button type="button" class="btn"  aria-hidden="true">&times;</button> -->
        </div>
        <div class="modal-body">
          <p>Do you really want to stop this Application</p>
        </div>
        <div class="modal-footer justify-content-center">
          <button type="button" class="btn btn-secondary" (click)="modal.close('Cross click')"
            data-dismiss="modal">Cancel</button>
          <button type="button" class="btn danger" (click)="StopSensgizApp()">Stop</button>
        </div>
      </div>
    </div>
  </div>
</ng-template>



<ng-template let-modal #errorMessage>
  <div class="modal-body">
    <div class="modal-confirm">
      <div class="modal-content">
        <div class="modal-header flex-column">
          <div class="icon-box">
            <i class="material-icons">&#33;</i>
          </div>
          <h4 class="modal-title w-100">Limit has reached!</h4>
          <!-- <button type="button" class="btn"  aria-hidden="true">&times;</button> -->
        </div>
        <div class="modal-body">
          <p>{{licenseMessage}}</p>
        </div>
        <div class="modal-footer justify-content-center">
          <button type="button" class="btn btn-secondary" (click)="modal.close('Cross click')"
            data-dismiss="modal">Okay</button>
        </div>
      </div>
    </div>
  </div>
</ng-template>


<ng-template let-modal #deleteModal>
  <div class="modal-body">
    <div class="modal-confirm">
      <div class="modal-content">
        <div class="modal-header flex-column">
          <div class="icon-box">
            <i class="material-icons">&#xE5CD;</i>
          </div>
          <h4 class="modal-title w-100">Are you sure?</h4>
          <!-- <button type="button" class="btn"  aria-hidden="true">&times;</button> -->
        </div>
        <div class="modal-body">
          <p>Do you really want to delete these Camera? This process cannot be undone.</p>
        </div>
        <div class="modal-footer justify-content-center">
          <button type="button" class="btn btn-secondary" (click)="modal.close('Cross click')"
            data-dismiss="modal">Cancel</button>
          <button type="button" class="btn danger" (click)="DeleteCamera()">Delete</button>
        </div>
      </div>
    </div>
  </div>
</ng-template>


<ng-template let-modal #startAppModal>
  <div class="modal-body">
    <div class="modal-confirm">
      <div class="modal-content">
        <!-- <div class="modal-header"> -->
        <!-- <div class="icon-box">
              <i class="material-icons">&#xE5CD;</i>
            </div>
            <h4 class="modal-title w-100">Are you sure?</h4> -->
        <!-- <button type="button" class="btn"  aria-hidden="true">&times;</button> -->
        <!-- </div> -->
        <div class="modal-body flex-column">
          <h5 class="text-dark">Do you want to start the Application ?</h5>
          <!-- <p class="text-muted"><small> If the jobsheet contains panels of named 'NA' it will be deleted.So Please edit those panels,further proceed</small></p> -->
          <form action="">
            <p class="text-muted"> Select Configaration Method </p>

            <div class="form-check form-check-inline" id="custome">
              <input type="radio" [formControl]="startAppConfig" [value]=0 (change)="StartAppConfig($event)"
                [defaultValue]=0 id="rackin" class="form-check-input">
              <label for="rackin" class="form-check-label text-muted">RTSP </label>
            </div>
            <div class="form-check form-check-inline" id="custome">
              <input type="radio" [formControl]="startAppConfig" [value]=1 (change)="StartAppConfig($event)"
                [defaultValue]=1 id="rackout" class="form-check-input">
              <label for="rackout" class="form-check-label text-muted">RTSPT </label>
            </div>

          </form>
        </div>
        <div class="modal-footer justify-content-center">
          <button type="button" class="btn btn-secondary" (click)="modal.close('Cross click')"
            data-dismiss="modal">Cancel</button>
          <button type="button" class="btn default" (click)="StartApplication()">Start</button>
        </div>
      </div>
    </div>
  </div>
</ng-template>
<ng-template let-modal #startHydroAppModal>
  <div class="modal-body">
    <div class="modal-confirm">
      <div class="modal-content">
        <!-- <div class="modal-header"> -->
        <!-- <div class="icon-box">
              <i class="material-icons">&#xE5CD;</i>
            </div>
            <h4 class="modal-title w-100">Are you sure?</h4> -->
        <!-- <button type="button" class="btn"  aria-hidden="true">&times;</button> -->
        <!-- </div> -->
        <div class="modal-body flex-column">
          <h5 class="text-dark">Do you want to start the Application ?</h5>
          <!-- <p class="text-muted"><small> If the jobsheet contains panels of named 'NA' it will be deleted.So Please edit those panels,further proceed</small></p> -->
          <form action="">
            <p class="text-muted"> Select Configaration Method </p>

            <div class="form-check form-check-inline" id="custome">
              <input type="radio" [formControl]="startAppConfig" [value]=0 (change)="StartAppConfig($event)"
                [defaultValue]=0 id="rackin" class="form-check-input">
              <label for="rackin" class="form-check-label text-muted">RTSP </label>
            </div>
            <div class="form-check form-check-inline" id="custome">
              <input type="radio" [formControl]="startAppConfig" [value]=1 (change)="StartAppConfig($event)"
                [defaultValue]=1 id="rackout" class="form-check-input">
              <label for="rackout" class="form-check-label text-muted">RTSPT </label>
            </div>

          </form>
        </div>
        <div class="modal-footer justify-content-center">
          <button type="button" class="btn btn-secondary" (click)="modal.close('Cross click')"
            data-dismiss="modal">Cancel</button>
          <button type="button" class="btn default" (click)="StartSensgizApp()">Start</button>
        </div>
      </div>
    </div>
  </div>
</ng-template>

<ng-template #sensgizDetails let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">Sensgiz Details</h4>
    <button type="button" class="btn-close" aria-label="Close" (click)="modal.close('Cross click')"></button>
  </div>
  <div class="modal-body p-3">
    <button class="btn btn-sm default-outline mb-3 ms-3" (click)="AddSensgizData()">
      <fa-icon icon="plus" class="mb-2"></fa-icon> Add
    </button>
    <div *ngFor="let form of sensgiz.controls;let i=index" class="p-2" style="">
      <ng-container class="d-flex justify-centent-center" [formGroup]="form">
        <div class="form-inline d-flex align-items-center justify-content-between">
          <div class="form-floating">

          <input class="form-control w-20 me-2" id="coinId" placeholder="Coin ID" formControlName="coinId">
          <label for="coinId">Coin Id</label>

          </div>
          <div class="form-floating">
          <input type="number" class="form-control w-20 me-2" id="number-input" placeholder="Preset Id"  formControlName="presetId">
          <label for="number-input">Preset Id</label>

        </div>


        <div class="form-floating">
          <input class="form-control w-20 me-2" id="loc" placeholder="Location" formControlName="coinLocation">
          <label for="loc">Location</label>
          </div>
          <!-- <span class="circle"> -->
          <fa-icon icon="circle-minus" style="cursor:pointer;color:#BD1F14" size="lg" class="ms-2"
            (click)="DeleteSensgizData(i)"></fa-icon>
          <!-- </span> -->
        </div>
      </ng-container>

    </div>
  </div>
  <div class="modal-footer">
    <button class="btn default float-end" [disabled]="!sensgiz.valid" (click)="SaveSensgizInfo()">
      Save
    </button>
  </div>
</ng-template>


<ng-template #EditSensgizDetails let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">Sensgiz Details</h4>
    <button type="button" class="btn-close" aria-label="Close" (click)="modal.close('Cross click')"></button>
  </div>
  <div class="modal-body p-3">
    <button class="btn btn-sm default-outline mb-3 ms-3" (click)="AddSensgizData()">
      <fa-icon icon="plus" class="mb-2"></fa-icon> Add
    </button>
    <div *ngFor="let form of sensgiz.controls;let i=index" class="p-2" style="">
      <ng-container class="d-flex justify-centent-center" [formGroup]="form">
        <div class="form-inline d-flex align-items-center">
          <input class="form-control w-30 m-2" placeholder="Coin ID" formControlName="coinId">
          <input class="form-control w-30 m-2" placeholder="Preset Id" formControlName="presetId">

          <input class="form-control w-30 m-2" placeholder="Angle" formControlName="coinLocation">
          <!-- <span class="circle"> -->
          <fa-icon icon="circle-minus" style="cursor:pointer;color:#BD1F14" size="lg" class="ms-2"
            (click)="DeleteSensgizData(i)"></fa-icon>
          <!-- </span> -->
        </div>
      </ng-container>

    </div>
  </div>
  <div class="modal-footer">
    <button class="btn default float-end" (click)="SaveSensgizInfo()">
      Save
    </button>
  </div>
</ng-template>





<!-- <form class="row g-3">
            <div class="col-md-4">
              <label for="validationServer01" class="form-label">First name</label>
              <input type="text" class="form-control is-valid" id="validationServer01" value="Mark" required>
              <div class="valid-feedback">
                Looks good!
              </div>
            </div>
            <div class="col-md-4">
              <label for="validationServer02" class="form-label">Last name</label>
              <input type="text" class="form-control is-valid" id="validationServer02" value="Otto" required>
              <div class="valid-feedback">
                Looks good!
              </div>
            </div>
            <div class="col-md-4">
              <label for="validationServerUsername" class="form-label">Username</label>
              <div class="input-group has-validation">
                <span class="input-group-text" id="inputGroupPrepend3">@</span>
                <input type="text" class="form-control is-invalid" id="validationServerUsername" aria-describedby="inputGroupPrepend3 validationServerUsernameFeedback" required>
                <div id="validationServerUsernameFeedback" class="invalid-feedback">
                  Please choose a username.
                </div>
              </div>
            </div>
            <div class="col-md-6">
              <label for="validationServer03" class="form-label">City</label>
              <input type="text" class="form-control is-invalid" id="validationServer03" aria-describedby="validationServer03Feedback" required>
              <div id="validationServer03Feedback" class="invalid-feedback">
                Please provide a valid city.
              </div>
            </div>
            <div class="col-md-3">
              <label for="validationServer04" class="form-label">State</label>
              <select class="form-select is-invalid" id="validationServer04" aria-describedby="validationServer04Feedback" required>
                <option selected disabled value="">Choose...</option>
                <option>...</option>
              </select>
              <div id="validationServer04Feedback" class="invalid-feedback">
                Please select a valid state.
              </div>
            </div>
            <div class="col-md-3">
              <label for="validationServer05" class="form-label">Zip</label>
              <input type="text" class="form-control is-invalid" id="validationServer05" aria-describedby="validationServer05Feedback" required>
              <div id="validationServer05Feedback" class="invalid-feedback">
                Please provide a valid zip.
              </div>
            </div>
            <div class="col-12">
              <div class="form-check">
                <input class="form-check-input is-invalid" type="checkbox" value="" id="invalidCheck3" aria-describedby="invalidCheck3Feedback" required>
                <label class="form-check-label" for="invalidCheck3">
                  Agree to terms and conditions
                </label>
                <div id="invalidCheck3Feedback" class="invalid-feedback">
                  You must agree before submitting.
                </div>
              </div>
            </div>
            <div class="col-12">
              <button class="btn default btn default-primary" type="submit">Submit form</button>
            </div>
          </form> -->