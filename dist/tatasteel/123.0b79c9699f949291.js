"use strict";(self.webpackChunktatasteel=self.webpackChunktatasteel||[]).push([[123],{123:(De,S,c)=>{c.r(S),c.d(S,{LogHistoryModule:()=>Le});var y=c(646),u=c(9755),I=c(3056),_=c(9449),C=c(1305),L=c(7185),E=c(4612),k=c(9174),D=c(7445),V=c(529),d=c(433),r=c(9646),M=c(8675),O=c(3900),w=c(4327),H=c(1764),m=c.n(H),e=c(4650),v=c(6895),P=c(8929),N=c(4567),A=c(3868);const F=["dangerAlert"];function j(n,s){1&n&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1,"Submit"),e.\u0275\u0275elementEnd())}function z(n,s){1&n&&e.\u0275\u0275element(0,"span",60)}function B(n,s){1&n&&e.\u0275\u0275element(0,"fa-icon",61)}function Y(n,s){1&n&&e.\u0275\u0275element(0,"span",62)}function $(n,s){1&n&&e.\u0275\u0275element(0,"fa-icon",65)}function W(n,s){1&n&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275text(1,"\xa0 Live \xa0"),e.\u0275\u0275elementEnd())}function J(n,s){1&n&&e.\u0275\u0275element(0,"span",60)}function Q(n,s){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",63),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.BackToToday())}),e.\u0275\u0275template(1,$,1,0,"fa-icon",64),e.\u0275\u0275template(2,W,2,0,"span",15),e.\u0275\u0275template(3,J,1,0,"span",16),e.\u0275\u0275elementEnd()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.loader2),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.loader2),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.loader2)}}function G(n,s){1&n&&e.\u0275\u0275element(0,"fa-icon",66)}function K(n,s){1&n&&e.\u0275\u0275element(0,"fa-icon",67)}function U(n,s){1&n&&e.\u0275\u0275element(0,"fa-icon",68)}function Z(n,s){1&n&&e.\u0275\u0275element(0,"fa-icon",69)}function X(n,s){1&n&&(e.\u0275\u0275elementStart(0,"span",20),e.\u0275\u0275element(1,"span",70),e.\u0275\u0275text(2,"Live"),e.\u0275\u0275elementEnd())}function q(n,s){1&n&&e.\u0275\u0275element(0,"span",74)}function R(n,s){1&n&&e.\u0275\u0275element(0,"fa-icon",75)}function ee(n,s){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",71),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.getLatestData())}),e.\u0275\u0275template(1,q,1,0,"span",72),e.\u0275\u0275template(2,R,1,0,"fa-icon",73),e.\u0275\u0275text(3,"Latest "),e.\u0275\u0275elementEnd()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.loaderLatest),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.loaderLatest)}}function te(n,s){1&n&&(e.\u0275\u0275elementStart(0,"span",76)(1,"b"),e.\u0275\u0275text(2,"Show:"),e.\u0275\u0275elementEnd()())}function ie(n,s){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"select",77),e.\u0275\u0275listener("ngModelChange",function(o){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(a.pageSize=o)})("ngModelChange",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.sliceVD())}),e.\u0275\u0275elementStart(1,"option",78),e.\u0275\u0275text(2,"30 items per page"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"option",79),e.\u0275\u0275text(4,"40 items per page"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(5,"option",80),e.\u0275\u0275text(6,"50 items per page"),e.\u0275\u0275elementEnd()()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275property("ngModel",t.pageSize)}}function ne(n,s){1&n&&(e.\u0275\u0275elementStart(0,"th",44),e.\u0275\u0275text(1," Is Valid? "),e.\u0275\u0275elementEnd())}function oe(n,s){if(1&n&&(e.\u0275\u0275elementStart(0,"div",93),e.\u0275\u0275element(1,"input",94),e.\u0275\u0275elementStart(2,"label",95),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd()()),2&n){const t=e.\u0275\u0275nextContext().$implicit,i=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("checked","Vest"===t?"arc_jacket"==i[t]:i[t]),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate("Vest"===t?"Arc Jacket":t)}}function ae(n,s){if(1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,oe,4,2,"div",92),e.\u0275\u0275elementEnd()),2&n){const t=s.$implicit,i=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Helmet"===t?"none"!==i[t]&&!1===i[t]:"Vest"===t&&"no_ppe"===i[t])}}function se(n,s){if(1&n&&(e.\u0275\u0275elementStart(0,"div",88)(1,"div")(2,"div",89),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"ul",90)(5,"li"),e.\u0275\u0275template(6,ae,2,1,"div",91),e.\u0275\u0275elementEnd()()()()),2&n){const t=s.$implicit,i=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",t.violation_count,""),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",i.objectKeys(t))}}function le(n,s){if(1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,se,7,2,"div",87),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t.object_data)}}function re(n,s){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div")(1,"div",99)(2,"input",100),e.\u0275\u0275listener("change",function(o){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext(2).$implicit,l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.VerifyTrueViol(o,a))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"label",101),e.\u0275\u0275text(4,"Yes "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(5,"div",102)(6,"input",103),e.\u0275\u0275listener("change",function(o){e.\u0275\u0275restoreView(t);const a=e.\u0275\u0275nextContext(2).$implicit,l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.VerifyFalseViol(o,a))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(7,"label",104),e.\u0275\u0275text(8,"No "),e.\u0275\u0275elementEnd()()()}2&n&&(e.\u0275\u0275advance(2),e.\u0275\u0275property("value",0)("defaultValue",!0),e.\u0275\u0275advance(4),e.\u0275\u0275property("value",!1)("defaultValue",!1))}function ce(n,s){1&n&&(e.\u0275\u0275elementStart(0,"div",105),e.\u0275\u0275text(1,"Verified"),e.\u0275\u0275elementEnd())}function de(n,s){if(1&n&&(e.\u0275\u0275elementStart(0,"td",96),e.\u0275\u0275template(1,re,9,4,"div",97),e.\u0275\u0275template(2,ce,2,0,"ng-template",null,98,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275reference(3),i=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!i.violation_verificaton_status)("ngIfElse",t)}}function me(n,s){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tr",43)(1,"td"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"td")(4,"img",81),e.\u0275\u0275listener("click",function(){const a=e.\u0275\u0275restoreView(t).$implicit,l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.imageCarousal(a))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(5,"br"),e.\u0275\u0275elementStart(6,"button",82),e.\u0275\u0275listener("click",function(){const a=e.\u0275\u0275restoreView(t).$implicit,l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.imageCarousal(a))}),e.\u0275\u0275text(7,"\xa0\xa0 "),e.\u0275\u0275element(8,"fa-icon",83),e.\u0275\u0275text(9," More Images \xa0\xa0"),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(10," \xa0"),e.\u0275\u0275elementStart(11,"button",84),e.\u0275\u0275listener("click",function(){const a=e.\u0275\u0275restoreView(t).$implicit,l=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(l.downloadImage(l.API+"/image/"+a.imagename))}),e.\u0275\u0275text(12," Download Image "),e.\u0275\u0275element(13,"fa-icon",61),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(14,"td")(15,"h4"),e.\u0275\u0275text(16),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(17,le,2,1,"div",15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"td"),e.\u0275\u0275element(19,"ngb-highlight",85),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"td"),e.\u0275\u0275element(21,"ngb-highlight",85),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(22,de,4,2,"td",86),e.\u0275\u0275elementEnd()}if(2&n){const t=s.$implicit,i=e.\u0275\u0275nextContext();e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.SNo),e.\u0275\u0275advance(2),e.\u0275\u0275property("src",i.API+"/image/"+t.imagename[0],e.\u0275\u0275sanitizeUrl),e.\u0275\u0275advance(12),e.\u0275\u0275textInterpolate(t.analyticstype),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","PPE"===t.analyticstype||"RA"===t.analyticstype),e.\u0275\u0275advance(2),e.\u0275\u0275property("result",t.camera_name?t.camera_name:"null")("term",i.filterOut.value),e.\u0275\u0275advance(2),e.\u0275\u0275property("result",t.timestamp)("term",i.filterOut.value),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.isEditTable)}}function ge(n,s){if(1&n&&(e.\u0275\u0275elementStart(0,"div",106)(1,"div",22)(2,"div",23),e.\u0275\u0275element(3,"img",107),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(4,"div",108)(5,"h5")(6,"span",109),e.\u0275\u0275text(7," Camera Name :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"b")(9,"span",110),e.\u0275\u0275text(10),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(11,"h5")(12,"span",109),e.\u0275\u0275text(13," Detected Time : "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(14,"b")(15,"span",110),e.\u0275\u0275text(16),e.\u0275\u0275elementEnd()()()()()()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(3),e.\u0275\u0275property("src",t.API+"/image/"+t.currentViol.imagename,e.\u0275\u0275sanitizeUrl),e.\u0275\u0275advance(7),e.\u0275\u0275textInterpolate(t.currentViol.camera_name?t.currentViol.camera_name:"null"),e.\u0275\u0275advance(6),e.\u0275\u0275textInterpolate(t.currentViol.timestamp?t.currentViol.timestamp:"--")}}function he(n,s){1&n&&e.\u0275\u0275element(0,"span",62)}function pe(n,s){1&n&&(e.\u0275\u0275elementStart(0,"span"),e.\u0275\u0275element(1,"fa-icon",131),e.\u0275\u0275elementEnd())}function fe(n,s){1&n&&e.\u0275\u0275element(0,"span",132)}function ue(n,s){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"button",129),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext(2);return e.\u0275\u0275resetView(o.OnDownload())}),e.\u0275\u0275template(1,pe,2,0,"span",15),e.\u0275\u0275template(2,fe,1,0,"span",130),e.\u0275\u0275text(3,"Excel"),e.\u0275\u0275elementEnd()}if(2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!t.excelLoader),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.excelLoader)}}function _e(n,s){if(1&n&&(e.\u0275\u0275elementStart(0,"span",133),e.\u0275\u0275text(1),e.\u0275\u0275elementStart(2,"button",134)(3,"span",114),e.\u0275\u0275text(4,"\xd7"),e.\u0275\u0275elementEnd()()()),2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1("",t.alertmessage," ")}}function ve(n,s){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",111)(1,"h4",112),e.\u0275\u0275text(2,"Download Excel"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"button",113),e.\u0275\u0275listener("click",function(){const a=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(a.dismiss("Cross click"))}),e.\u0275\u0275elementStart(4,"span",114),e.\u0275\u0275text(5,"\xd7"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(6,"div",115)(7,"div",35)(8,"div",116)(9,"div",89),e.\u0275\u0275element(10,"app-date-time-picker",117),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(11,"br"),e.\u0275\u0275elementStart(12,"div",118),e.\u0275\u0275element(13,"app-date-time-picker",117),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(14,"br"),e.\u0275\u0275elementStart(15,"div",118)(16,"div",34)(17,"select",119,120)(19,"option",121),e.\u0275\u0275text(20,"Location "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"option",122),e.\u0275\u0275text(22,"JSW"),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275element(23,"br")(24,"br"),e.\u0275\u0275elementStart(25,"div",22)(26,"div",123)(27,"div",34)(28,"button",124),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const o=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(o.submitForm())}),e.\u0275\u0275template(29,he,1,0,"span",19),e.\u0275\u0275text(30," Submit "),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(31,"\xa0 "),e.\u0275\u0275template(32,ue,4,2,"button",125),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(33,"br"),e.\u0275\u0275template(34,_e,5,1,"span",126),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275elementStart(35,"div",127)(36,"button",128),e.\u0275\u0275listener("click",function(){const a=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275resetView(a.close("Close click"))}),e.\u0275\u0275text(37,"Close"),e.\u0275\u0275elementEnd()()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(10),e.\u0275\u0275property("formControl",t.excelFromDate),e.\u0275\u0275advance(3),e.\u0275\u0275property("formControl",t.excelToDate),e.\u0275\u0275advance(4),e.\u0275\u0275property("formControl",t.loc2),e.\u0275\u0275advance(11),e.\u0275\u0275property("disabled",!t.excelFromDate||!t.excelToDate||!t.loc2.valid),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.excelLoad),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",t.isExcel),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.isalert)}}function be(n,s){if(1&n&&(e.\u0275\u0275elementStart(0,"div",146),e.\u0275\u0275element(1,"input",147),e.\u0275\u0275elementStart(2,"label",148),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd()()),2&n){const t=e.\u0275\u0275nextContext().$implicit,i=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("checked","Vest"===t?"arc_jacket"==i[t]:i[t]),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate("Vest"===t?"Arc Jacket":t)}}function xe(n,s){if(1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275template(1,be,4,2,"div",145),e.\u0275\u0275elementEnd()),2&n){const t=s.$implicit,i=e.\u0275\u0275nextContext().$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf","Helmet"===t?"none"!==i[t]&&!1===i[t]:"Vest"===t&&"no_ppe"===i[t])}}function ye(n,s){if(1&n&&(e.\u0275\u0275elementStart(0,"div",88)(1,"div")(2,"div",35),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(4,"br"),e.\u0275\u0275elementStart(5,"ul",144)(6,"li"),e.\u0275\u0275template(7,xe,2,1,"div",91),e.\u0275\u0275elementEnd()()()()),2&n){const t=s.$implicit,i=e.\u0275\u0275nextContext(3);e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate1(" ",t.violation_count,""),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngForOf",i.objectKeys(t))}}function Ce(n,s){if(1&n&&(e.\u0275\u0275elementStart(0,"div",143),e.\u0275\u0275template(1,ye,8,2,"div",87),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t.editViol.object_data)}}function we(n,s){if(1&n&&(e.\u0275\u0275elementStart(0,"div",135)(1,"div",22)(2,"div",136)(3,"div",137),e.\u0275\u0275element(4,"img",138),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(5,"div",139)(6,"div",140)(7,"div",141)(8,"h5",35),e.\u0275\u0275text(9),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(10,"br"),e.\u0275\u0275template(11,Ce,2,1,"div",142),e.\u0275\u0275elementEnd()()()()()),2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(4),e.\u0275\u0275property("src",t.API+"/image/"+t.editViol.imagename[0],e.\u0275\u0275sanitizeUrl),e.\u0275\u0275advance(5),e.\u0275\u0275textInterpolate(t.editViol.analyticstype),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf","PPE"===t.editViol.analyticstype||"RA"===t.editViol.analyticstype)}}const Ie=[{path:"",component:(()=>{class n{constructor(t,i,o,a,l,g,p,h,T,x){this.http=t,this.webServer=i,this.datepipe=o,this.toasterService=a,this._lightbox=l,this._lightBoxConfig=g,this.router=p,this.snackbar=h,this.modalService=T,this.sso=x,this.data=[],this.zoom=100,this.panelData=(0,r.of)([{item_text:1,item_id:0},{item_text:2,item_id:1},{item_text:3,item_id:2}]),this.plantData=(0,r.of)([{item_text:"hsm",item_id:0},{item_text:"crm",item_id:1},{item_text:"scm",item_id:2}]),this.areaData=(0,r.of)([]),this.isAlert=!1,this.download="",this.isalert=!1,this.imgWidth=400,this.imgheight=300,this.tempdata=[],this.page=1,this.pageSize=30,this.cameraDetails=[],this.audioOff=!1,this.alertmessage="",this.total=(0,r.of)(0),this.violData=(0,r.of)([]),this.loading=!1,this.filterOut=new d.NI,this.dataForExcel=[],this.images=[],this.pdfLoader=!1,this.excelLoader=!1,this.violLength=0,this.updatedLen=0,this.violdata=[],this.show1=30,this.show2=40,this.show3=50,this.fromDate=new Date,this.toDate=new Date,this.isdatewise=!1,this.loader2=!1,this.Excel=!1,this.Edata=[],this.isExcel=!1,this.excelLoad=!1,this.alert=!0,this.imageData=[],this.imageBase64=[],this.objectKeys=Object.keys,this.isdate=!1,this.form=new d.cw({control:new d.NI}),this.selectedViolType=null,this.imageObject=[{}],this.selectedCameraId=null,this.dropdownList=(0,r.of)([]),this.fromDateControl=new d.NI((new Date).getTime(),d.kI.required),this.toDateControl=new d.NI(new Date,d.kI.required),this.excelFromDate=new d.NI(new Date,d.kI.required),this.excelToDate=new d.NI(new Date,d.kI.required),this.Images=[],this.loc2=new d.NI("",d.kI.required),this.violationTypeList=(0,r.of)([]),this.loaderLatest=!1,this.isLatest=!1,this.latest=!1,this.relayFlag=!1,this.isEditTable=!0,this.ranges={Today:[m()().hour(0).minute(0).second(0),m()()],Yesterday:[m()().subtract(1,"days").hour(0).minute(0).second(0),m()().subtract(1,"days")],"Last 7 Days":[m()().subtract(6,"days").hour(0).minute(0).second(0),m()()],"Last 30 Days":[m()().subtract(29,"days").hour(0).minute(0).second(0),m()()],"This Month":[m()().startOf("month").hour(0).minute(0).second(0),m()().endOf("month")],"Last Month":[m()().subtract(1,"month").startOf("month").hour(0).minute(0).second(0),m()().subtract(1,"month").endOf("month")]},this.audioOff="true"==localStorage.getItem("audioOff"),this.alert="true"==localStorage.getItem("alert"),console.log(localStorage.getItem("audioOff"),localStorage.getItem("alert")),this.scrollStrategy=this.sso.reposition(),this.relayDelay=this.webServer.relayDelay,console.log(this.relayDelay),this.hooterDelay=this.webServer.delay,this.getCameraList(),this.getViolationTypes(),this.ExcelRange=0,this._lightBoxConfig.showDownloadButton=!1,this._lightBoxConfig.showZoom=!0,this._lightBoxConfig.showImageNumberLabel=!0,this._lightBoxConfig.fitImageInViewPort=!0,this._lightBoxConfig.disableScrolling=!1,this._lightBoxConfig.centerVertically=!1,this.API=i.IP,console.log(this.API),this.filterOut.valueChanges.pipe(((0,M.O)(""),(0,O.w)(f=>this.matches(f.strip())))).subscribe(f=>{this.tempdata=f,this.violData=(0,r.of)(f),this.sliceVD()}),this.excelFromDate.valueChanges.subscribe(f=>{this.isalert=!1}),this.excelToDate.valueChanges.subscribe(f=>{this.isalert=!1})}openDatePicker(t){console.log(this.pickerDirective.last.picker),console.log(this.pickerDirective),document.getElementById("dateInput").click(),this.pickerDirective.open(t)}ngOnInit(){var t=this.webServer.dateTransform(new Date)+" 00:00:00",i=this.webServer.dateTransform(new Date)+" 23:59:59";this.fromDateControl.setValue(t),this.toDateControl.setValue(i),this.dropdownSettings={singleSelection:!0,idField:"item_id",textField:"item_text",itemsShowLimit:1,allowSearchFilter:!0},this.dropdownSettings2={singleSelection:!0,idField:"item_id",textField:"item_text",itemsShowLimit:1,allowSearchFilter:!0,closeDropDownOnSelection:!0,noDataAvailablePlaceholderText:"No violation types detected",maxHeight:197},console.log(_.n1),this.violLength=Number(localStorage.getItem("updatedLen")),this.webServer.GetCameraNames().subscribe(a=>{console.log(a),!0===a.success&&(a.message.forEach((l,g)=>{this.cameraDetails[g]={camera_id:l.camera_id,camera_name:l.camera_name}}),console.log(this.cameraDetails))});var o=document.getElementById("content");o?.classList.add("loading"),(!this.latest||this.isLatest)&&this.webServer.LiveViolationData().subscribe(a=>{a.success?(o?.classList.remove("loading"),this.imageData=a.message,this.tempdata=a.message,console.log(this.tempdata),Number(localStorage.setItem("updatedLen",a.message.length?a.message.length:0)),this.tempdata=a.message,this.total=(0,r.of)(this.tempdata.length),this.violData=(0,r.of)(a.message),this.sliceVD()):(o?.classList.remove("loading"),this.notification(a.message))},a=>{o?.classList.remove("loading"),this.notification("Error While fetching the data")})}ngAfterViewInit(){console.log(this.selectedViolation),this.dataread(),this.Relay("http://192.168.1.201/Delay*100@")}onPlantSelect(t){}onAreaSelect(t){}dataread(){this.interval=setInterval(()=>{this.isdate||(console.log("interval1"),Number(localStorage.getItem("updatedLen"))&&(this.violLength=Number(localStorage.getItem("updatedLen"))),this.Subsciption=this.webServer.LiveViolationData(this.selectedCameraId,this.selectedViolType).subscribe(t=>{if(t.success){var i={...t},o=[...t.message];console.log(this.isLatest),localStorage.setItem("updatedLen",JSON.stringify(o.length));var a=Number(localStorage.getItem("updatedLen"));if(console.log(a),console.log(this.violLength),i.now_live_count-i.previous_live_count>0){var l=i.now_live_count-i.previous_live_count;if(console.log("minutes less than 10"),this.alert){console.log("alert",this.alert);for(let h=l-1;h>=0;h--)new Date,new Date(o[h].timestamp),console.log("minutes less than 10"),this.alert&&(console.log(),console.log(this.isLatest),this.currentViol=o[h],setTimeout(()=>{console.log("violation is happening"),console.log(this.currentViol),this.showViol()},300),this.audioOff||this.alertSound())}}}}),this.latest||this.webServer.LiveViolationData().subscribe(t=>{this.latest||!0!==t.success||(console.log(t),console.log(this.selectedCameraId),console.log(t.message),this.imageData=t.message,this.tempdata=t.message,console.log(this.tempdata),this.total=(0,r.of)(this.violdata.length),this.loader2=!1,this.isdatewise=!1,this.violData=(0,r.of)(t.message),this.sliceVD(),this.violdata=t.message,this.tempdata.length>0&&(this.Excel=!0),this.sliceVD())},t=>{console.log(t)}))},5e3)}showViol(){console.log(this.currentViol),this.toasterService.error(this.Violation.nativeElement.innerHTML," ",{enableHtml:!0,positionClass:"toast-top-right"})}notification(t,i){console.log("snackbar"),this.snackbar.open(t,i||"",{duration:4e3,panelClass:["error"],horizontalPosition:"end",verticalPosition:"bottom"})}getDismissReason(t){return t===u.If.ESC?(this.zoom=100,this.imgWidth=400,this.imgheight=300,"by pressing ESC"):t===u.If.BACKDROP_CLICK?(this.zoom=100,this.imgWidth=400,this.imgheight=300,"by clicking on a backdrop"):(this.imgWidth=400,this.imgheight=300,this.zoom=100,`with: ${t}`)}matches(t){var i=this.tempdata.filter(a=>a.cameraid.includes(t)||a.roi_violation_name.includes(t)||a.deviceid.includes(t)||a.camera_name.includes(t));return this.tempdata=i,this.sliceVD(),(0,r.of)(i)}sliceVD(){if(console.log(this.page,this.pageSize),this.isdate||(this.total=(0,r.of)(this.tempdata.slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize).length),this.total=(0,r.of)(this.tempdata.length),this.violData=(0,r.of)(this.tempdata.map((i,o)=>({SNo:o+1,...i})).slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize))),console.log(this.tempdata),this.isdate){console.log(this.tempdata);var t=document.getElementById("dataTable");t?.classList.add("loading"),this.webServer.DatewiseViolations(this.fromDate,this.toDate,this.page,this.pageSize,this.selectedCameraId?this.selectedCameraId:null,this.selectedViolType?this.selectedViolType:null).subscribe(i=>{console.log(i),i.success&&(t?.classList.remove("loading"),console.log(i.message),0===i.message.length&&this.notification("No violations found"),this.tempdata=i.message,this.violData=(0,r.of)(this.tempdata))})}}Submit(){this.isLatest=!1,console.log(this.selectedMoments),console.log(this.fromDateControl.value),this.Images=[],this.fromDate=this.selectedMoments.startDate.format("YYYY-MM-DD HH:mm:ss"),this.toDate=this.selectedMoments.endDate.format("YYYY-MM-DD HH:mm:ss"),this.Subsciption&&this.Subsciption.unsubscribe();var t=document.getElementById("dataTable");t?.classList.add("loading"),this.pageSize=30,this.page=1,this.isdate=!0,this.loading=!0,console.log(clearInterval(this.interval)),console.log(this.selectedCameraId),this.webServer.DatewiseViolations(this.fromDate,this.toDate,null,null,this.selectedCameraId?this.selectedCameraId:null,this.selectedViolType?this.selectedViolType:null).subscribe(i=>{console.log(i),i.success?(console.log(i),0==i.message.length&&(this.tempdata=[],this.violData=(0,r.of)([]),this.loading=!1,this.isdatewise=!0,this.total=(0,r.of)(0),t?.classList.remove("loading"),this.notification("No violations found for entered date and time")),i.message.length>0&&(this.imageData=i.message,this.total=(0,r.of)(i.message.length),this.webServer.DatewiseViolations(this.fromDate,this.toDate,this.page,this.pageSize,this.selectedCameraId?this.selectedCameraId:null,this.selectedViolType?this.selectedViolType:null).subscribe(o=>{console.log(o),o.success&&(this.loading=!1,t?.classList.remove("loading"),console.log(o.message.length),0===o.message.length?(this.notification("No violations found"),this.violData=(0,r.of)([]),this.isdatewise=!0,this.loading=!1):(this.tempdata=o.message,this.isdatewise=!0,this.violData=(0,r.of)(this.tempdata),this.sliceVD(),this.loading=!1)),this.loading=!1},o=>{this.loading=!1,this.notification("Error while fetching the data")}))):(this.tempdata=[],this.violData=(0,r.of)([]),this.loading=!1,this.isdatewise=!0,this.total=(0,r.of)(0),t?.classList.remove("loading"),t?.classList.remove("loading"),this.notification("No violations found for entered date and time"),this.loading=!1)},i=>{this.loading=!1}),this.interval2=setInterval(()=>{this.isdate&&(Number(localStorage.getItem("updatedLen"))&&(this.violLength=Number(localStorage.getItem("updatedLen"))),console.log("interval 2"),this.webServer.LiveViolationData().subscribe(i=>{if(console.log(i),i.success){var a={...i};if(a.now_live_count-a.previous_live_count>0&&(this.violdata=i.message,this.alert))for(let g=a.now_live_count-a.previous_live_count-1;g>=0;g--)this.alert&&(console.log("date wise violation"),this.currentViol=this.violdata[g],setTimeout(()=>{this.showViol(),this.audioOff||this.alertSound()},300))}}))},3e3),console.log(this.API)}BackToToday(){var t;this.page=1,this.Images=[],this.latest=!1,(t=document.getElementById("dataTable"))?.classList.add("loading"),this.loader2=!0,console.log(this.isLatest),this.interval2&&clearInterval(this.interval2),this.isdate=!1,this.tempdata=[],this.total=(0,r.of)(0),this.Images=[],(t=document.getElementById("dataTable"))?.classList.add("loading"),this.loader2=!0,console.log(this.isLatest),this.interval2&&clearInterval(this.interval2),this.isdate=!1,this.tempdata=[],this.total=(0,r.of)(0),this.webServer.LiveViolationData().subscribe(i=>{if(i.success){this.isLatest=!1,t?.classList.remove("loading"),this.imageData=i.message,console.log(this.imageData),this.total=(0,r.of)(i.message.length),0==i.message.length&&this.notification("no violations found for today");var o=i.message;console.log("backto live"),this.tempdata=i.message,this.sliceVD(),this.loader2=!0,this.isdatewise=!1,localStorage.setItem("updatedLen",JSON.stringify(o.length)),Number(localStorage.getItem("updatedLen"))}}),this.dataread()}dateTransform(t){const i=new Date(t.year,t.month-1,t.day);return console.log(i),this.datepipe.transform(i,"dd/MM/yyyy")}onCameraIdSelect(t){console.log(t),console.log(t.item_id),this.isdatewise||(this.page=1),this.selectedItems||(this.selectedCameraId=null),-1==t.item_id?this.selectedCameraId="all_cameras":(this.selectedCameraId=t.item_text,console.log(this.selectedItems),console.log(t))}onViolationTypeSelect(t){console.log(this.selectedViolation),console.log(t),console.log(t.item_id),this.isdatewise||(this.page=1),this.selectedViolation||(this.selectedViolation=null),-1==t.item_id?this.selectedViolType="all_violations":(this.selectedViolType=t.item_text,console.log(this.selectedViolation),console.log(t))}imageCarousal(t){this.Images=[],t.imagename.forEach((i,o)=>{console.log(i),this.Images[o]={src:this.API+"/image/"+i,thumb:this.API+"/image/"+i,caption:i}}),this.open(0),console.log(this.Images)}open(t){console.log("opening lightbox"),this._lightbox.open(this.Images,t)}close(){this._lightbox.close()}submitForm(){this.isalert=!1,this.excelLoad=!0,this.isExcel=!1,console.log(this.excelFromDate.value),console.log(this.excelToDate.value);var t={from_date:this.selectedMoments.startDate.format("YYYY-MM-DD HH:mm:ss"),to_date:this.selectedMoments.endDate.format("YYYY-MM-DD HH:mm:ss"),cameraname:this.selectedCameraId?this.selectedCameraId:"none",violation_type:this.selectedViolType?this.selectedViolType:"none"},i=new Date(this.excelFromDate.value);const l=(new Date(this.excelToDate.value).getTime()-i.getTime())/864e5;console.log(l),l<=this.ExcelRange?this.webServer.CreateViolationExcel(t).subscribe(p=>{console.log(p),p.success?(this.excelLoad=!1,this.isExcel=!0,console.log("APi data for excel"),console.log(p),this.Edata=p.message,this.Edata=p.message,this.webServer.DownloadViolationExcel().subscribe(h=>{this.excelLoader=!1,this.excelLoad=!1,console.log(h.headers.get("content-Type")),console.log(h);const x=new Blob([h.body],{type:".xlsx"});var f="violation report "+this.datepipe.transform(new Date,"YYYY_MM_dd_h_mm_ss")+".xlsx";new File([x],f,{type:".xlsx"}),(0,w.saveAs)(x,f)},h=>{this.excelLoader=!1,console.log(h)})):(this.notification(p.message,"Retry"),this.excelLoad=!1,this.isExcel=!1,this.alertmessage=p.message,this.isalert=!0)},p=>{this.excelLoad=!1,this.isExcel=!1,this.alertmessage="Error while creating excel",this.notification(this.alertmessage,"Retry"),this.isalert=!0}):(this.excelLoad=!1,this.isalert=!0,this.excelLoader=!1,this.alertmessage="Data range should be "+this.ExcelRange+" days"),(new FormData).append("location",this.loc2.value)}onCameraIdDeSelect(t){console.log(t),console.log(t.item_id),console.log(this.selectedItems),this.selectedItems=[],this.isdatewise||(this.page=1),0===this.selectedItems.length&&(console.log("undefined"),this.selectedCameraId=null)}onViolationTypeDeSelect(t){console.log(this.selectedViolation),console.log(t),console.log(t.item_id),this.selectedViolation=[],this.isdatewise||(this.page=1),0===this.selectedViolation.length&&(this.selectedViolType=null)}OnDownload(){this.excelLoader=!0,this.webServer.SampleExcelDownload().subscribe(t=>{this.excelLoader=!1,console.log(t),console.log(t);const o=new Blob([t.body],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});var a="violation report "+this.datepipe.transform(new Date,"YYYY_MM_dd_h_mm_ss");const l=new File([o],a,{type:".xlsx"});(0,w.saveAs)(l)},t=>{this.excelLoader=!1,console.log(t)})}ExcelD(t){this.modalService.open(t).result.then(i=>{this.closeResult=`Closed with: ${i}`,this.download="",this.isalert=!1},i=>{this.closeResult=`Dismissed ${this.getDismissReason(i)}`,this.download="",this.isalert=!1})}settings(){this.router.navigate(["app/Settings"])}alertSound(){console.log("alert sound");let t=new Audio;t.src="../../../assets/audio/alert.wav",t.load(),t.play()}Hooter(t,i){this.http.get("https://192.168.1.22/Delay*100@").subscribe(),this.http.get(t+"/Delay*"+i+"@")}Relay(t){this.http.get(t).subscribe(),this.relayInterval=setTimeout(()=>{console.log("relay is off")},this.relayDelay)}Reset(){clearTimeout(this.relayInterval)}volumeToggle(){this.alert?(this.audioOff=!this.audioOff,localStorage.setItem("audioOff",this.audioOff?"true":"false")):(this.audioOff=!0,localStorage.setItem("audioOff","true"))}alertToggle(){this.alert=!this.alert,localStorage.setItem("alert",this.alert?"true":"false"),this.alert||(this.audioOff=!0,localStorage.setItem("alert","false"),localStorage.setItem("audioOff","true"),this.toasterService.clear())}getLatestData(){this.loader2=!1,this.loaderLatest=!0,this.latest=!0;var t=document.getElementById("dataTable");t?.classList.add("loading"),console.log(this.selectedViolType),this.webServer.LatestData(this.selectedViolType,this.selectedCameraId).subscribe(i=>{i.success?(this.isLatest=!0,t?.classList.remove("loading"),this.loaderLatest=!1,0===i.message.length&&this.notification("No violations found"),this.imageData=i.message,this.tempdata=i.message,console.log(this.tempdata),this.tempdata=i.message,this.total=(0,r.of)(i.message.length),this.violData=(0,r.of)(i.message),this.sliceVD()):(this.loaderLatest=!1,t?.classList.remove("loading"),this.notification("Error while fetching the data","Retry"))},i=>{this.loaderLatest=!1,t?.classList.remove("loading"),this.notification("Error While fetching the data","Retry")})}downloadImage(t){const i=t;new V.WM({responseType:"blob"}),console.log(i);const a=i.substr(i.lastIndexOf("/")+1);this.http.get(i,{responseType:"blob"}).subscribe(l=>{console.log("image url data",l),(0,w.saveAs)(l,a)},l=>{console.log("error",l)})}ngOnDestroy(){this.modalService.dismissAll(),clearInterval(this.interval),clearInterval(this.interval2),this.isalert=!1,this.toasterService.clear()}getCameraList(){var t=[],i=[];t[0]={item_id:-1,item_text:"All Cameras"},this.webServer.GetCameraDetails().subscribe(o=>{console.log(o),!0===o.success&&(o.message.forEach((a,l)=>{i.push({cameraid:l,cameraname:a})}),console.log(i),i=i.filter((a,l,g)=>l===g.indexOf(a)),console.log(i),i.forEach((a,l)=>{t[l+1]={item_id:a.cameraid,item_text:a.cameraname}}),console.log(t),this.dropdownList=(0,r.of)(t)),console.log(this.dropdownList)})}getViolationTypes(){var t=[],i=[];t[0]={item_id:-1,item_text:"All Violations"},this.webServer.GetViolationList().subscribe(o=>{console.log(o),o.success&&(o.message.forEach(a=>{i.push(a)}),console.log(i),i.forEach((a,l)=>{t[l+1]={item_id:l,item_text:a}}),console.log(t),this.violationTypeList=(0,r.of)(t))})}ToggleEdit(){this.isEditTable=!this.isEditTable}SelectViol(t,i){this.editViol=t,this.modalService.open(i,{size:"xl",centered:!0})}VerifyTrueViol(t,i){this.editViol=i,this.webServer.VerifyViolation(this.editViol._id.$oid,!0).subscribe(o=>{console.log(o),this.webServer.notification(o.message),o.success&&(this.modalService.dismissAll(),this.isdatewise&&this.Submit()),this.isdatewise||this.GetViolationData()},o=>{this.webServer.notification("Error while the  Process","Retry")})}VerifyFalseViol(t,i){this.editViol=i,this.webServer.VerifyViolation(this.editViol._id.$oid,!1).subscribe(o=>{console.log(o),this.webServer.notification(o.message),o.success&&(this.modalService.dismissAll(),this.isdatewise&&this.Submit()),this.isdatewise||this.GetViolationData()},o=>{this.webServer.notification("Error while the  Process","Retry")})}GetViolationData(){var t=document.getElementById("content");t?.classList.add("loading"),(!this.latest||this.isLatest)&&this.webServer.LiveViolationData().subscribe(i=>{i.success?(t?.classList.remove("loading"),this.imageData=i.message,this.tempdata=i.message,console.log(this.tempdata),Number(localStorage.setItem("updatedLen",i.message.length?i.message.length:0)),this.tempdata=i.message,this.total=(0,r.of)(this.tempdata.length),this.violData=(0,r.of)(i.message),this.sliceVD()):(t?.classList.remove("loading"),this.notification(i.message))},i=>{t?.classList.remove("loading"),this.notification("Error While fetching the data")})}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(V.eN),e.\u0275\u0275directiveInject(D.N),e.\u0275\u0275directiveInject(v.DatePipe),e.\u0275\u0275directiveInject(L._W),e.\u0275\u0275directiveInject(C.ey),e.\u0275\u0275directiveInject(C.xm),e.\u0275\u0275directiveInject(y.F0),e.\u0275\u0275directiveInject(P.ux),e.\u0275\u0275directiveInject(u.FF),e.\u0275\u0275directiveInject(N.uw))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-log-history"]],viewQuery:function(t,i){if(1&t&&(e.\u0275\u0275viewQuery(F,5),e.\u0275\u0275viewQuery(_.SP,5)),2&t){let o;e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(i.Violation=o.first),e.\u0275\u0275queryRefresh(o=e.\u0275\u0275loadQuery())&&(i.pickerDirective=o)}},decls:97,vars:43,consts:[["id","content",1,"container-fluid","dashboard-content"],["datatable",""],[1,"page-header"],["id","content",1,"row","mx-auto","mt-3","mb-3"],[1,"col-xl-3","col-sm-12","col-lg-6","col-xs-12","col-md-6","mb-3"],[1,"dl-date-time-picker"],[1,"datePickerContainer",3,"click"],["type","text","ngxDaterangepickerMd","","placeholder","Select Date","required","","id","dateInput",1,"form-control",3,"showCustomRangeLabel","ranges","timePicker","ngModel","ngModelChange"],["datepicker",""],[1,"input-group-append"],["type","button",1,"ngx-daterangepicker-action","btn","default"],["icon","calendar",1,"ngx-daterangepicker-action",3,"click"],[1,"col-xl-2","col-sm-12","col-lg-6","col-xs-12","col-md-6","mb-3"],[3,"placeholder","settings","data","ngModel","onDeSelect","ngModelChange","onSelect"],[1,"btn","default","text-white","me-3","ms-1",2,"width","80px",3,"disabled","click"],[4,"ngIf"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],["type","submit",1,"btn","default","text-white","me-3",3,"disabled","click"],["icon","download","class","ms-1 me-1","style","cursor: pointer;",4,"ngIf"],["class","spinner-border spinner-border-sm me-1","role","status","aria-hidden","true",4,"ngIf"],[1,"float-end"],["class","btn default text-white","style","width:100px",3,"click",4,"ngIf"],[1,"row"],[1,"col-12"],["id","dataTable",1,"card"],[1,"card-header"],["placement","bottom",1,"btn","default","me-2","float-start",2,"width","7%",3,"ngbTooltip","click"],["icon","bell","class","text-white me-1",4,"ngIf"],["icon","bell-slash","class","text-white me-1",4,"ngIf"],["placement","bottom",1,"btn","default","float-start","me-2",2,"width","7%",3,"ngbTooltip","click"],["icon","volume-up","class","text-white me-1",4,"ngIf"],["icon","volume-off","class","text-white me-1",4,"ngIf"],["class","float-end",4,"ngIf"],[1,"mt-3","mb-2"],[1,"form-group"],[1,""],["class","btn default ms-3 me-2 text-white float-start",3,"click",4,"ngIf"],[1,"float-start","ms-2","mt-2","me-2"],[1,"d-flex","justify-content-end","p-1"],["class","mr-2 mt-2",4,"ngIf"],["class","custom-select col-2","style","width: auto",3,"ngModel","ngModelChange",4,"ngIf"],[1,"",2,"width","100%","overflow","auto"],[1,"table","table-bordered",2,"width","100%","overflow","auto"],[2,"text-align","center"],["scope","col"],["icon","image",1,"font-custome","me-1"],["icon","camera-retro",1,"font-custome","me-1"],["icon","clock",1,"font-custome","me-1"],["scope","col",4,"ngIf"],["style","text-align: center;",4,"ngFor","ngForOf"],[1,"d-flex","mx-auto","justify-content-center","p-1"],[2,"width","95vw","overflow-x","auto",3,"collectionSize","page","pageSize","pageChange"],[2,"display","none"],["dangerAlert",""],[1,"mb-0",2,"border","2px solid rgba(121, 20, 20, 0.699)","background-color","rgba(214, 148, 148, 0.459)"],[1,"modal-header",2,"text-align","center","color","rgba(121, 20, 20, 0.699)"],[1,"",2,"color","rgb(196, 54, 54) !important"],["class","modal-body",4,"ngIf"],["selectfile",""],["editViolation",""],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],["icon","download",1,"ms-1","me-1",2,"cursor","pointer"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","me-1"],[1,"btn","default","text-white",2,"width","100px",3,"click"],["icon","chart-area","class","text-white me-2",4,"ngIf"],["icon","chart-area",1,"text-white","me-2"],["icon","bell",1,"text-white","me-1"],["icon","bell-slash",1,"text-white","me-1"],["icon","volume-up",1,"text-white","me-1"],["icon","volume-off",1,"text-white","me-1"],["role","status","aria-hidden","true",1,"spinner-grow","spinner-grow-sm","me-2","text-danger"],[1,"btn","default","ms-3","me-2","text-white","float-start",3,"click"],["class","spinner-border spinner-border-sm me-2 ms-1","role","status","aria-hidden","true",4,"ngIf"],["icon","filter","class","ms-1 me-2 text-white","style","cursor: pointer;",4,"ngIf"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","me-2","ms-1"],["icon","filter",1,"ms-1","me-2","text-white",2,"cursor","pointer"],[1,"mr-2","mt-2"],[1,"custom-select","col-2",2,"width","auto",3,"ngModel","ngModelChange"],["ngValue","30"],["ngValue","40"],["ngValue","50"],[1,"image",3,"src","click"],[1,"btn","btn-sm","mt-2",3,"click"],["icon","images",1,"mr-1"],[1,"btn","btn-sm","default","text-white","mt-2",3,"click"],[3,"result","term"],["id","verify","style","width:3rem",4,"ngIf"],["class","border-bottom",4,"ngFor","ngForOf"],[1,"border-bottom"],[1,"mb-3"],[1,"list-unstyled"],[4,"ngFor","ngForOf"],["class","items",4,"ngIf"],[1,"items"],["id","item1","type","checkbox",3,"checked"],["for","item1"],["id","verify",2,"width","3rem"],[4,"ngIf","ngIfElse"],["verified",""],["id","right",1,"form-check","form-check-inline"],["type","radio","id","yes",1,"form-check-input",3,"value","defaultValue","change"],["for","yes",1,"form-check-label","text-muted"],["id","wrong",1,"form-check","form-check-inline"],["type","radio","id","no",1,"form-check-input",3,"value","defaultValue","change"],["for","no",1,"form-check-label","text-muted"],[1,"success-badge"],[1,"modal-body"],["alt","","width","100%",1,"violImage",2,"width","30%","height","30%","object-fit","fill","border-radius","5px 5px 5px 5px",3,"src"],[1,"col-xl-12","col-md-12","col-lg-12","col-xs-12","text-dark"],[1,"text-muted"],[1,"text-dark"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","mx-auto",2,"text-align","center"],[1,"container"],["name","activeEndDate",3,"formControl"],[1,"mt-2"],["id","location",1,"custom-select","mt-3",3,"formControl"],["location",""],["value","","hidden",""],["value","jsw"],[1,"mx-auto"],["type","submit",1,"btn","default",3,"disabled","click"],["class","default",3,"click",4,"ngIf"],["class","alert alert-danger alert-dismissible fade show mx-auto","role","alert",4,"ngIf"],[1,"modal-footer"],["type","button",1,"default","btn-light",3,"click"],[1,"default",3,"click"],["class","spinner-border spinner-border-sm me-2","role","status","aria-hidden","true",4,"ngIf"],["icon","download",1,"mr-2"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","me-2"],["role","alert",1,"alert","alert-danger","alert-dismissible","fade","show","mx-auto"],["type","button","data-dismiss","alert","aria-label","Close",1,"close"],[1,"card","p-2"],[1,"col-6","d-flex","align-items-center"],[1,"card-img-top"],["alt","",2,"width","100%","height","auto","object-fit","contain",3,"src"],[1,"col-6"],[2,"height","90%","overflow","scroll"],[1,"",2,"width","100%"],["style","width:100%;",4,"ngIf"],[2,"width","100%"],[1,"list-unstyled","p-4"],["style","width:5rem","class","d-inline","id","editViol",4,"ngIf"],["id","editViol",1,"d-inline",2,"width","5rem"],["id","item1","type","checkbox",1,"me-4",3,"checked"],["for","item1",1,"ms-4"]],template:function(t,i){1&t&&(e.\u0275\u0275elementStart(0,"div",0,1)(2,"div",2)(3,"h2"),e.\u0275\u0275text(4,"Violations "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6),e.\u0275\u0275listener("click",function(a){return i.openDatePicker(a)}),e.\u0275\u0275elementStart(9,"span")(10,"input",7,8),e.\u0275\u0275listener("ngModelChange",function(a){return i.selectedMoments=a}),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(12,"span",9)(13,"button",10)(14,"fa-icon",11),e.\u0275\u0275listener("click",function(a){return i.openDatePicker(a)}),e.\u0275\u0275elementEnd()()()()()(),e.\u0275\u0275elementStart(15,"div",12)(16,"ng-multiselect-dropdown",13),e.\u0275\u0275listener("onDeSelect",function(a){return i.onViolationTypeDeSelect(a)})("ngModelChange",function(a){return i.selectedViolation=a})("onSelect",function(a){return i.onViolationTypeSelect(a)}),e.\u0275\u0275pipe(17,"async"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(18,"div",12)(19,"ng-multiselect-dropdown",13),e.\u0275\u0275listener("onDeSelect",function(a){return i.onCameraIdDeSelect(a)})("ngModelChange",function(a){return i.selectedItems=a})("onSelect",function(a){return i.onCameraIdSelect(a)}),e.\u0275\u0275pipe(20,"async"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(21,"div",4)(22,"button",14),e.\u0275\u0275listener("click",function(){return i.Submit()}),e.\u0275\u0275template(23,j,2,0,"span",15),e.\u0275\u0275template(24,z,1,0,"span",16),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(25,"\xa0 "),e.\u0275\u0275elementStart(26,"button",17),e.\u0275\u0275listener("click",function(){return i.submitForm()}),e.\u0275\u0275template(27,B,1,0,"fa-icon",18),e.\u0275\u0275template(28,Y,1,0,"span",19),e.\u0275\u0275text(29," Excel "),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(30,"\xa0 "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(31,"div",12)(32,"div",20),e.\u0275\u0275template(33,Q,4,3,"button",21),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(34,"div",22)(35,"div",23)(36,"div",24)(37,"div",25)(38,"button",26),e.\u0275\u0275listener("click",function(){return i.alertToggle()}),e.\u0275\u0275template(39,G,1,0,"fa-icon",27),e.\u0275\u0275template(40,K,1,0,"fa-icon",28),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(41,"\xa0 "),e.\u0275\u0275elementStart(42,"button",29),e.\u0275\u0275listener("click",function(){return i.volumeToggle()}),e.\u0275\u0275template(43,U,1,0,"fa-icon",30),e.\u0275\u0275template(44,Z,1,0,"fa-icon",31),e.\u0275\u0275elementEnd(),e.\u0275\u0275text(45,"\xa0 "),e.\u0275\u0275template(46,X,3,0,"span",32),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(47,"div",33)(48,"div",34)(49,"div",35),e.\u0275\u0275template(50,ee,4,2,"button",36),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(51,"span",37),e.\u0275\u0275elementStart(52,"span",38),e.\u0275\u0275template(53,te,3,0,"span",39),e.\u0275\u0275template(54,ie,7,1,"select",40),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(55,"div",41)(56,"table",42)(57,"thead",43)(58,"tr")(59,"th",44)(60,"b"),e.\u0275\u0275text(61,"S No"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(62,"th",44)(63,"b"),e.\u0275\u0275element(64,"fa-icon",45),e.\u0275\u0275text(65,"Image "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(66,"th",44)(67,"b"),e.\u0275\u0275text(68," Violation Type "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(69,"th",44)(70,"b"),e.\u0275\u0275element(71,"fa-icon",46),e.\u0275\u0275text(72,"Camera Name "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(73,"th",44)(74,"b"),e.\u0275\u0275element(75,"fa-icon",47),e.\u0275\u0275text(76,"Detected Time "),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(77,ne,2,0,"th",48),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(78,"tbody"),e.\u0275\u0275template(79,me,23,9,"tr",49),e.\u0275\u0275pipe(80,"async"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(81,"div",50)(82,"ngb-pagination",51),e.\u0275\u0275listener("pageChange",function(a){return i.page=a})("pageChange",function(){return i.sliceVD()}),e.\u0275\u0275pipe(83,"async"),e.\u0275\u0275elementEnd()()()()()(),e.\u0275\u0275elementStart(84,"div",52)(85,"div",23)(86,"div",null,53)(88,"div",54)(89,"div",55)(90,"h3",56),e.\u0275\u0275text(91,"Violation"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275template(92,ge,17,3,"div",57),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275template(93,ve,38,7,"ng-template",null,58,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(95,we,12,3,"ng-template",null,59,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275elementEnd()()),2&t&&(e.\u0275\u0275advance(10),e.\u0275\u0275property("showCustomRangeLabel",!0)("ranges",i.ranges)("timePicker",!0)("ngModel",i.selectedMoments),e.\u0275\u0275advance(6),e.\u0275\u0275property("placeholder","Violation Type")("settings",i.dropdownSettings2)("data",e.\u0275\u0275pipeBind1(17,35,i.violationTypeList))("ngModel",i.selectedViolation),e.\u0275\u0275advance(3),e.\u0275\u0275property("placeholder","Camera Name")("settings",i.dropdownSettings)("data",e.\u0275\u0275pipeBind1(20,37,i.dropdownList))("ngModel",i.selectedItems),e.\u0275\u0275advance(3),e.\u0275\u0275property("disabled",null===i.selectedMoments.startDate||null===i.selectedMoments.endDate),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!i.loading),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.loading),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",null===i.selectedMoments.startDate||null===i.selectedMoments.endDate||i.excelLoad),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!i.excelLoad),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.excelLoad),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngIf",i.isdatewise||i.isLatest),e.\u0275\u0275advance(5),e.\u0275\u0275property("ngbTooltip",i.alert?"notification on":"notification off"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.alert),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!i.alert),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngbTooltip",i.audioOff?"mute":"unmute"),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",!i.audioOff),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.audioOff),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",!(i.isdatewise||i.isLatest)),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngIf",!i.isdatewise),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",i.isdatewise),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",i.isdatewise),e.\u0275\u0275advance(23),e.\u0275\u0275property("ngIf",i.isEditTable),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngForOf",e.\u0275\u0275pipeBind1(80,39,i.violData)),e.\u0275\u0275advance(3),e.\u0275\u0275property("collectionSize",e.\u0275\u0275pipeBind1(83,41,i.total))("page",i.page)("pageSize",i.pageSize),e.\u0275\u0275advance(10),e.\u0275\u0275property("ngIf",i.currentViol))},dependencies:[d.YN,d.Kr,d.Fj,d.EJ,d.JJ,d.Q7,d.oH,A.BN,v.NgForOf,v.NgIf,I.OP,d.On,u.N9,u._L,u._h,_.SP,v.AsyncPipe],styles:['.image[_ngcontent-%COMP%]{margin-left:0;margin-right:0;height:174px;width:330px;object-fit:cover;border-radius:5px!important}ngb-pagination[_ngcontent-%COMP%]     ul>li:not(.active)>a{background-color:#f8f8f8!important;border-radius:5px!important;box-shadow:none}ngb-pagination[_ngcontent-%COMP%]     ul>li.active>a{background-color:#2d5686!important;border-radius:5px!important;box-shadow:none}ngb-pagination[_ngcontent-%COMP%]     ul>li:not(.active)>a{background-color:#f8f8f8!important;border-radius:5px!important;color:var(--label-color)!important;box-shadow:none}ngb-pagination[_ngcontent-%COMP%]     ul>li.active>a{background-color:var(--label-color)!important;border-radius:5px!important;border:1px solid var(--label-color)!important;box-shadow:none}.task-input[_ngcontent-%COMP%]{padding:0 25px;position:relative}.task-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:5px 35px 5px 5px;height:40px}.datePickerContainer[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.datePickerContainer[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-top-right-radius:0!important;border-bottom-right-radius:0!important}input[_ngcontent-%COMP%]{width:100%}.img[_ngcontent-%COMP%]{height:20px;width:20px}.task-input[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{top:50%;position:absolute;transform:translate(170px,-50%)}input[type=checkbox][_ngcontent-%COMP%]{display:block;height:30px;margin:0 0 -53px -9999px;order:4;top:5px;outline:none;counter-increment:undone-items}input[_ngcontent-%COMP%]:checked{pointer-events:none;order:2;counter-increment:done-items}label[_ngcontent-%COMP%]{pointer-events:none;display:block;position:relative;padding:15px 10px 15px 0;border-top:1px dashed #fff;order:4;cursor:pointer;animation:undone .5s}label[_ngcontent-%COMP%]:before{content:"\\f10c";display:block;position:absolute;margin-right:10px;margin-left:10px}input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{order:2;animation:done .5s}input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:before{margin-left:3px;margin-right:2rem!important;color:#cc1d1d;content:"\\2713"}input[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]:before{margin-left:3px;margin-right:2rem!important;color:#cc1d1d;content:"\\2716"}#editViol[_ngcontent-%COMP%]{text-align:center;align-content:center}td[_ngcontent-%COMP%]{text-align:center!important;align-content:center!important}input[type=radio][_ngcontent-%COMP%]{display:block;height:30px;margin:0 0 -53px -9999px;order:4;outline:none;position:relative;counter-increment:undone-items}#verify[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{pointer-events:all;display:block;position:relative;border-top:1px dashed #fff;order:4;cursor:pointer;animation:undone .5s;margin-left:10px!important}#verify[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:before{content:"\\25ef";display:block;position:absolute;margin-right:10px!important;right:2rem;font-weight:500;color:#c9c9c9}#verify[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{order:2;animation:done .5s}#verify[_ngcontent-%COMP%]   #wrong[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:before{font-size:larger;font-family:500;color:#cc1d1d;content:"\\2713"}#verify[_ngcontent-%COMP%]   #right[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:before{font-size:larger;font-family:700;color:#1dc41d;content:"\\2713"}']}),n})()}];let Le=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({providers:[D.N],imports:[k.A,y.Bz.forChild(Ie),C.QM,I.ZQ.forRoot(),L.Rh.forRoot({timeOut:2e6,toastComponent:E.n,progressBar:!0,newestOnTop:!0}),_.n1.forRoot({}),u.IJ,y.Bz]}),n})()}}]);