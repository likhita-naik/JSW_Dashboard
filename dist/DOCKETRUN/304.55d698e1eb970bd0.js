"use strict";(self.webpackChunkDOCKETRUN=self.webpackChunkDOCKETRUN||[]).push([[304],{2304:(I,s,a)=>{a.r(s),a.d(s,{ReportAlertModule:()=>k});var u=a(9569),f=a(9174),r=a(433),e=a(4650),c=a(2953),v=a(3868),d=a(6895);function g(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=o.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t," ")}}function _(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"div"),e.\u0275\u0275text(1),e.\u0275\u0275elementEnd()),2&n){const t=o.$implicit;e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate1(" ",t," ")}}function x(n,o){1&n&&(e.\u0275\u0275elementStart(0,"li"),e.\u0275\u0275text(1,"Violation Report"),e.\u0275\u0275elementEnd())}function h(n,o){1&n&&(e.\u0275\u0275elementStart(0,"li"),e.\u0275\u0275text(1,"ESI Report"),e.\u0275\u0275elementEnd())}function b(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"tr")(1,"td"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"td")(4,"b"),e.\u0275\u0275text(5,"To"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(6,g,2,1,"div",11),e.\u0275\u0275elementStart(7,"b"),e.\u0275\u0275text(8,"CC"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(9,_,2,1,"div",11),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"td")(11,"ul"),e.\u0275\u0275template(12,x,2,0,"li",16),e.\u0275\u0275template(13,h,2,0,"li",16),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(14,"td"),e.\u0275\u0275text(15),e.\u0275\u0275elementEnd()()),2&n){const t=o.$implicit,l=o.index;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(l+1),e.\u0275\u0275advance(4),e.\u0275\u0275property("ngForOf",t.to_email),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",t.cc_email),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngIf",t.violation_report),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngIf",t.esi_report),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(t.report_time)}}function E(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",37)(1,"input",38),e.\u0275\u0275listener("change",function(i){e.\u0275\u0275restoreView(t);const m=e.\u0275\u0275nextContext(3);return e.\u0275\u0275resetView(m.OnReportAnalytics(i))}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(2,"label",39),e.\u0275\u0275text(3),e.\u0275\u0275elementEnd()()}if(2&n){const t=o.$implicit,l=o.index;e.\u0275\u0275advance(1),e.\u0275\u0275property("id","solution"+l)("value",t.value),e.\u0275\u0275advance(1),e.\u0275\u0275property("for","solution"+l),e.\u0275\u0275advance(1),e.\u0275\u0275textInterpolate(t.name)}}function C(n,o){if(1&n&&(e.\u0275\u0275elementStart(0,"div",35),e.\u0275\u0275template(1,E,4,4,"div",36),e.\u0275\u0275elementEnd()),2&n){const t=e.\u0275\u0275nextContext(2);e.\u0275\u0275advance(1),e.\u0275\u0275property("ngForOf",t.aiSolutions)}}const A=function(){return{standalone:!0}};function S(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",17)(1,"h5"),e.\u0275\u0275text(2,"Add Report"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(3,"div",18)(4,"form",19)(5,"div",20)(6,"div",21)(7,"label",22)(8,"b"),e.\u0275\u0275text(9,"Emails(To) :"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(10,"input",23),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"div",21)(12,"label",22)(13,"b"),e.\u0275\u0275text(14,"Emails (CC) :"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(15,"input",24),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"div",25)(17,"div",26)(18,"b"),e.\u0275\u0275text(19," Select Reports:"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(20,"div",27),e.\u0275\u0275element(21,"input",28),e.\u0275\u0275elementStart(22,"label",29),e.\u0275\u0275text(23,"Violation Report"),e.\u0275\u0275elementEnd(),e.\u0275\u0275template(24,C,2,1,"div",30),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(25,"div",27),e.\u0275\u0275element(26,"input",31),e.\u0275\u0275elementStart(27,"label",29),e.\u0275\u0275text(28,"ESI Report"),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(29,"div",25)(30,"span",26)(31,"b"),e.\u0275\u0275text(32,"Reporting time :"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(33,"span")(34,"ngb-timepicker",32),e.\u0275\u0275listener("ngModelChange",function(i){e.\u0275\u0275restoreView(t);const m=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(m.reportTime=i)}),e.\u0275\u0275elementEnd()()()()()(),e.\u0275\u0275elementStart(35,"div",33)(36,"button",34),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.submitDetails())}),e.\u0275\u0275text(37,"Submit"),e.\u0275\u0275elementEnd()()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(4),e.\u0275\u0275property("formGroup",t.reportForm),e.\u0275\u0275advance(17),e.\u0275\u0275property("id","violAlert")("value","violAlert"),e.\u0275\u0275advance(1),e.\u0275\u0275property("for","violAlert"),e.\u0275\u0275advance(2),e.\u0275\u0275property("ngIf",t.reportForm.get("violationReport").value),e.\u0275\u0275advance(2),e.\u0275\u0275property("id","esiAlert")("value","ESIAlert"),e.\u0275\u0275advance(1),e.\u0275\u0275property("for","esiAlert"),e.\u0275\u0275advance(7),e.\u0275\u0275property("ngModel",t.reportTime)("ngModelOptions",e.\u0275\u0275pureFunction0(12,A))("spinners",!1),e.\u0275\u0275advance(2),e.\u0275\u0275property("disabled",!(t.reportForm.get("violationReport").value||t.reportForm.get("esiJobsheet").value))}}function R(n,o){1&n&&(e.\u0275\u0275elementStart(0,"p",40),e.\u0275\u0275text(1,"No emails are added for the report"),e.\u0275\u0275elementEnd())}function y(n,o){1&n&&(e.\u0275\u0275elementStart(0,"p",41),e.\u0275\u0275text(1,"No emails"),e.\u0275\u0275elementEnd())}function w(n,o){if(1&n){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",17)(1,"h5"),e.\u0275\u0275text(2,"Add SMTP Email"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(3,"div",18)(4,"form",19)(5,"div",20)(6,"div",21)(7,"label",22)(8,"b"),e.\u0275\u0275text(9,"Email"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(10,"input",23),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"div",21)(12,"label",22)(13,"b"),e.\u0275\u0275text(14,"Domain"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(15,"input",42),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(16,"div",21)(17,"label",22)(18,"b"),e.\u0275\u0275text(19,"Port"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(20,"input",43),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(21,"div",21)(22,"label",22)(23,"b"),e.\u0275\u0275text(24,"Password"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275element(25,"input",44),e.\u0275\u0275elementEnd()()()(),e.\u0275\u0275elementStart(26,"div",33)(27,"button",34),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(t);const i=e.\u0275\u0275nextContext();return e.\u0275\u0275resetView(i.submitDetails())}),e.\u0275\u0275text(28,"Submit"),e.\u0275\u0275elementEnd()()}if(2&n){const t=e.\u0275\u0275nextContext();e.\u0275\u0275advance(4),e.\u0275\u0275property("formGroup",t.reportForm),e.\u0275\u0275advance(23),e.\u0275\u0275property("disabled",!(t.reportForm.get("violationReport").value||t.reportForm.get("esiJobsheet").value))}}const T=[{path:"",component:(()=>{class n{constructor(t){this.modalService=t,this.reportDetails=[],this.AllReportDetails=[],this.reportTime={hour:0,minute:0},this.reportAnalytics=[],this.SMTPForm=new r.cw({email:new r.NI,domain:new r.NI,password:new r.NI,port:new r.NI("")}),this.aiSolutions=[{name:"Trafffic count",value:"traffic_count"},{name:"Restricted Area",value:"restricted_area"},{name:"Crowd count",value:"crowd_count"}],this.reportForm=new r.cw({toEmail:new r.NI("",r.kI.required),ccEmail:new r.NI("",r.kI.required),violationReport:new r.NI(!1,r.kI.requiredTrue),esiJobsheet:new r.NI(!1,r.kI.requiredTrue)}),this.emailControl=new r.NI("",r.kI.required),this.emailControl.setValidators(r.kI.email)}ngOnInit(){}AddReport(t){this.modalService.open(t)}OnAddEmail(){var t=this.emailControl.value;this.emailControl.setValue(""),this.reportDetails.push({email:t,violation_alert:!1,esi_alert:!1}),console.log(this.reportDetails)}PPEConfig(t,l){t.target.checked?("violAlert"===t.target.value&&(this.reportDetails[l].violation_alert=!0),"ESIAlert"===t.target.value&&(this.reportDetails[l].esi_alert=!0)):("violAlert"===t.target.value&&(this.reportDetails[l].violation_alert=!1),"ESIAlert"===t.target.value&&(this.reportDetails[l].esi_alert=!1)),console.log(this.reportDetails)}OnReportAnalytics(t){if(console.log(t.target.defaultValue),console.log(t.target.checked),t.target.checked)this.reportAnalytics.push(t.target.value);else{var l=this.reportAnalytics.indexOf(t.target.defaultValue);this.reportAnalytics.splice(l,1)}console.log(this.reportAnalytics)}submitDetails(){console.log(this.reportTime);var t={to_email:[this.reportForm.get("toEmail").value.split(",")],cc_email:[this.reportForm.get("ccEmail").value.split(",")],violation_report:this.reportForm.get("violationReport").value,alarm_analytics:this.reportAnalytics,esi_report:this.reportForm.get("esiJobsheet").value,report_time:this.toTimeString(this.reportTime)};this.AllReportDetails.push(t),this.reportTime={hour:0,minute:0},this.modalService.dismissAll(),this.reportForm.get("violationReport").setValue(!1),this.reportForm.get("esiJobsheet").setValue(!1),console.log(t)}toTimeString(t){return(t.hour<10?"0"+t.hour.toString():t.hour.toString())+":"+(t.minute<10?0+t.minute.toString():t.minute.toString())}}return n.\u0275fac=function(t){return new(t||n)(e.\u0275\u0275directiveInject(c.FF))},n.\u0275cmp=e.\u0275\u0275defineComponent({type:n,selectors:[["app-report-alert"]],decls:36,vars:1,consts:[[1,"container-fluid","dashboard-content"],[1,"page-header","mb-3"],[1,"row","col-12"],[1,"col"],[1,"btn","default",3,"click"],["icon","plus",1,"me-1"],[1,"btn","default-outline","ms-2",3,"click"],[1,"row"],[1,"col-12"],[1,"table","table-striped"],["scope","col",2,"width","3rem !important"],[4,"ngFor","ngForOf"],["reportAddModal",""],["elsep",""],["noMail",""],["smtpAddModal",""],[4,"ngIf"],[1,"modal-header"],[1,"modal-body","p-3"],["action","","id","reportAddForm",1,"mb-3",3,"formGroup"],[1,"border","p-3",2,"border-radius","8.5px"],[1,"m-3"],["for","email",1,"mb-2"],["formControlName","toEmail","placeholder","email","type","emails","id","email",1,"form-control"],["formControlName","ccEmail","placeholder","email","type","emails","id","email",1,"form-control"],[1,"row","m-3"],[1,"mb-2"],["id","custome",1,"form-check","form-check-inline"],["type","checkbox","formControlName","violationReport","defaultValue","",1,"form-check-input",3,"id","value"],[1,"form-check-label","text-muted",3,"for"],["class","mb-3 mt-3 ms-2 d-flex justify-content-center align-items-center",4,"ngIf"],["type","checkbox","formControlName","esiJobsheet","defaultValue","",1,"form-check-input",3,"id","value"],[3,"ngModel","ngModelOptions","spinners","ngModelChange"],["id","submit",1,"d-flex","justify-centent-center"],[1,"btn","default","mb-3",2,"width","90%",3,"disabled","click"],[1,"mb-3","mt-3","ms-2","d-flex","justify-content-center","align-items-center"],["class","me-2","id","subCheckbox",4,"ngFor","ngForOf"],["id","subCheckbox",1,"me-2"],["type","checkbox","defaultValue","",1,"form-check-input",3,"id","value","change"],[1,"form-check-label","text-muted","me-4",3,"for"],[1,"container"],[1,""],["formControlName","toEmail","placeholder","Domain name","type","emails","id","email",1,"form-control"],["formControlName","ccEmail","placeholder","Port","type","emails","id","email",1,"form-control"],["formControlName","ccEmail","placeholder","Password","type","password","id","email",1,"form-control"]],template:function(t,l){if(1&t){const i=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"div",0)(1,"div",1)(2,"h3"),e.\u0275\u0275text(3,"Report Settings"),e.\u0275\u0275elementEnd()(),e.\u0275\u0275elementStart(4,"div",2)(5,"div",3)(6,"button",4),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(i);const p=e.\u0275\u0275reference(29);return e.\u0275\u0275resetView(l.AddReport(p))}),e.\u0275\u0275text(7," \xa0\xa0 "),e.\u0275\u0275element(8,"fa-icon",5),e.\u0275\u0275text(9,"Add\xa0\xa0 "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"button",6),e.\u0275\u0275listener("click",function(){e.\u0275\u0275restoreView(i);const p=e.\u0275\u0275reference(35);return e.\u0275\u0275resetView(l.AddReport(p))}),e.\u0275\u0275element(11,"fa-icon",5),e.\u0275\u0275text(12,"Add SMTP "),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(13,"div",7)(14,"div",8)(15,"table",9)(16,"thead")(17,"tr")(18,"th",10),e.\u0275\u0275text(19," SI No "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(20,"th"),e.\u0275\u0275text(21," Emails "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(22,"th"),e.\u0275\u0275text(23," Reports "),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(24,"th"),e.\u0275\u0275text(25," Report Time "),e.\u0275\u0275elementEnd()()(),e.\u0275\u0275elementStart(26,"tbody"),e.\u0275\u0275template(27,b,16,6,"tr",11),e.\u0275\u0275elementEnd()()()()(),e.\u0275\u0275template(28,S,38,13,"ng-template",null,12,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(30,R,2,0,"ng-template",null,13,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(32,y,2,0,"ng-template",null,14,e.\u0275\u0275templateRefExtractor),e.\u0275\u0275template(34,w,29,2,"ng-template",null,15,e.\u0275\u0275templateRefExtractor)}2&t&&(e.\u0275\u0275advance(27),e.\u0275\u0275property("ngForOf",l.AllReportDetails))},dependencies:[r._Y,r.Fj,r.Wl,r.JJ,r.JL,r.sg,r.u,v.BN,d.NgForOf,d.NgIf,r.On,c.Pm],styles:[".container[_ngcontent-%COMP%]{width:100%;line-height:2em;border-left:3px solid var(--primary-color);margin:.25em;padding:1em 1em 1em 1.5em;border-top:1px solid #ccc;border-right:1px solid #ccc;border-bottom:1px solid #ccc;border-radius:4px;display:grid;align-items:center;justify-content:space-between}#submit[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:var(--label-color);border:none;color:#fff;padding:15px 80px;text-align:center;text-decoration:none;display:inline-block;text-transform:uppercase;font-size:13px;box-shadow:0 10px 30px #5fbae966;border-radius:5px;margin:5px 20px 40px;transition:all .3s ease-in-out}button[_ngcontent-%COMP%]:disabled{background-color:var(--label-color);border:none;color:#fff;padding:15px 80px;cursor:not-allowed;opacity:.7;text-align:center;text-decoration:none;display:inline-block;text-transform:uppercase;font-size:13px;box-shadow:0 10px 30px #5fbae966;border-radius:5px;margin:5px 20px 40px;transition:all .3s ease-in-out}#submit[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--label-color)}#submit[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{transform:scale(.95)}"]}),n})()}];let k=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.\u0275\u0275defineNgModule({type:n}),n.\u0275inj=e.\u0275\u0275defineInjector({imports:[f.A,u.Bz.forChild(T)]}),n})()}}]);